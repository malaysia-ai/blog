{
  
    
        "post0": {
            "title": "Twitter and local news data in Malaysia-AI Elasticsearch",
            "content": "As you know, Malaysia-AI got a cloud ElasticSearch, protected by Github Auth at https://elasticsearch.malaysiaai.ml/, and recently we deployed Tweepy streaming and local news crawler at https://github.com/malaysia-ai/crawlers. If you are member of Malaysia-AI, you should able to access that repository. . from elasticsearch import Elasticsearch from elasticsearch_dsl import Search from pycookiecheat import chrome_cookies import requests . ElasticSearch . To access ElasticSearch from anywhere, . Install dependencies, | pip3 install requests pycookiecheat elasticsearch elasticsearch-dsl . You need to login https://elasticsearch.malaysiaai.ml using your Chrome. . | Get the cookies. . | Or you can use any library that can fetch cookies from your browser, like, https://github.com/borisbabic/browser_cookie3 . url = &#39;https://elasticsearch.malaysiaai.ml&#39; cookies = chrome_cookies(url) . requests.get(url, cookies = cookies).json() . {&#39;name&#39;: &#39;huseincomel-desktop&#39;, &#39;cluster_name&#39;: &#39;elasticsearch&#39;, &#39;cluster_uuid&#39;: &#39;WLWwNUhcTAaU7BGpsKwNkA&#39;, &#39;version&#39;: {&#39;number&#39;: &#39;7.17.0&#39;, &#39;build_flavor&#39;: &#39;default&#39;, &#39;build_type&#39;: &#39;deb&#39;, &#39;build_hash&#39;: &#39;bee86328705acaa9a6daede7140defd4d9ec56bd&#39;, &#39;build_date&#39;: &#39;2022-01-28T08:36:04.875279988Z&#39;, &#39;build_snapshot&#39;: False, &#39;lucene_version&#39;: &#39;8.11.1&#39;, &#39;minimum_wire_compatibility_version&#39;: &#39;6.8.0&#39;, &#39;minimum_index_compatibility_version&#39;: &#39;6.0.0-beta1&#39;}, &#39;tagline&#39;: &#39;You Know, for Search&#39;} . If you are using https://jupyterhub.malaysiaai.ml/, ElasticSearch available at http://localhost:9200 . Twitter . Simply query https://elasticsearch.malaysiaai.ml/twitter_streaming/_search . query = { &#39;size&#39;: 2 } url = &#39;https://elasticsearch.malaysiaai.ml/twitter_streaming/_search&#39; requests.get(url, cookies = cookies, json = query).json() . {&#39;took&#39;: 604, &#39;timed_out&#39;: False, &#39;_shards&#39;: {&#39;total&#39;: 1, &#39;successful&#39;: 1, &#39;skipped&#39;: 0, &#39;failed&#39;: 0}, &#39;hits&#39;: {&#39;total&#39;: {&#39;value&#39;: 10000, &#39;relation&#39;: &#39;gte&#39;}, &#39;max_score&#39;: 1.0, &#39;hits&#39;: [{&#39;_index&#39;: &#39;twitter_streaming&#39;, &#39;_type&#39;: &#39;_doc&#39;, &#39;_id&#39;: &#39;tRasQIABg_n2UR6_-kBI&#39;, &#39;_score&#39;: 1.0, &#39;_source&#39;: {&#39;datetime&#39;: &#39;2022-04-19T07:11:51&#39;, &#39;datetime_gmt8&#39;: &#39;2022-04-19T15:11:51&#39;, &#39;data_text&#39;: &#39;he can defeat thanos https://t.co/nIgaWoHkcT&#39;, &#39;body&#39;: &#39;RT @JMHlHl: he can defeat thanos https://t.co/nIgaWoHkcT&#39;, &#39;screen_name&#39;: &#39;xjuleenx&#39;, &#39;followers_count&#39;: 519, &#39;friends_count&#39;: 392, &#39;listed_count&#39;: 1, &#39;favourites_count&#39;: 27196, &#39;statuses_count&#39;: 119922, &#39;quoted_status_text&#39;: &#39;NULL&#39;, &#39;lang&#39;: &#39;en&#39;, &#39;retweet&#39;: &#39;true&#39;, &#39;retweet_text&#39;: &#39;he can defeat thanos https://t.co/nIgaWoHkcT&#39;, &#39;retweet_text_full&#39;: &#39;NULL&#39;, &#39;retweet_count&#39;: 0, &#39;retweet_detail&#39;: {&#39;retweet_count&#39;: 543, &#39;quote_count&#39;: 23, &#39;favorite_count&#39;: 2396, &#39;reply_count&#39;: 9, &#39;id_str&#39;: &#39;1516139448014352384&#39;, &#39;followers_count&#39;: 937, &#39;friends_count&#39;: 21, &#39;listed_count&#39;: 15, &#39;favourites_count&#39;: 336, &#39;statuses_count&#39;: 562, &#39;screen_name&#39;: &#39;JMHlHl&#39;}, &#39;quote_count&#39;: 0, &#39;favorite_count&#39;: 0, &#39;reply_count&#39;: 0, &#39;id_str&#39;: &#39;1516313612645675010&#39;, &#39;tweet&#39;: {&#39;created_at&#39;: &#39;Tue Apr 19 07:11:51 +0000 2022&#39;, &#39;id&#39;: 1516313612645675010, &#39;id_str&#39;: &#39;1516313612645675010&#39;, &#39;text&#39;: &#39;RT @JMHlHl: he can defeat thanos https://t.co/nIgaWoHkcT&#39;, &#39;source&#39;: &#39;&lt;a href=&#34;http://twitter.com/download/android&#34; rel=&#34;nofollow&#34;&gt;Twitter for Android&lt;/a&gt;&#39;, &#39;truncated&#39;: False, &#39;in_reply_to_status_id&#39;: None, &#39;in_reply_to_status_id_str&#39;: None, &#39;in_reply_to_user_id&#39;: None, &#39;in_reply_to_user_id_str&#39;: None, &#39;in_reply_to_screen_name&#39;: None, &#39;user&#39;: {&#39;id&#39;: 287662914, &#39;id_str&#39;: &#39;287662914&#39;, &#39;name&#39;: &#39;juleen‚Å∑ ‚àû üíú&#39;, &#39;screen_name&#39;: &#39;xjuleenx&#39;, &#39;location&#39;: &#34;taehyung&#39;s heart ‚ô°&#34;, &#39;url&#39;: None, &#39;description&#39;: &#39;üá∏üá¨ ‚ô° 7 boys- okay nvm lets make it 19 boys making my life perfect ‚ô° n‚àû BTS/ TXT/ ENHYPEN ‚àû&#39;, &#39;translator_type&#39;: &#39;none&#39;, &#39;protected&#39;: False, &#39;verified&#39;: False, &#39;followers_count&#39;: 519, &#39;friends_count&#39;: 392, &#39;listed_count&#39;: 1, &#39;favourites_count&#39;: 27196, &#39;statuses_count&#39;: 119922, &#39;created_at&#39;: &#39;Mon Apr 25 12:53:24 +0000 2011&#39;, &#39;utc_offset&#39;: None, &#39;time_zone&#39;: None, &#39;geo_enabled&#39;: False, &#39;lang&#39;: None, &#39;contributors_enabled&#39;: False, &#39;is_translator&#39;: False, &#39;profile_background_color&#39;: &#39;FF6699&#39;, &#39;profile_background_image_url&#39;: &#39;http://abs.twimg.com/images/themes/theme11/bg.gif&#39;, &#39;profile_background_image_url_https&#39;: &#39;https://abs.twimg.com/images/themes/theme11/bg.gif&#39;, &#39;profile_background_tile&#39;: True, &#39;profile_link_color&#39;: &#39;B40B43&#39;, &#39;profile_sidebar_border_color&#39;: &#39;CC3366&#39;, &#39;profile_sidebar_fill_color&#39;: &#39;E5507E&#39;, &#39;profile_text_color&#39;: &#39;362720&#39;, &#39;profile_use_background_image&#39;: True, &#39;profile_image_url&#39;: &#39;http://pbs.twimg.com/profile_images/1515659085580214272/KuWvSRGA_normal.jpg&#39;, &#39;profile_image_url_https&#39;: &#39;https://pbs.twimg.com/profile_images/1515659085580214272/KuWvSRGA_normal.jpg&#39;, &#39;profile_banner_url&#39;: &#39;https://pbs.twimg.com/profile_banners/287662914/1650196224&#39;, &#39;default_profile&#39;: False, &#39;default_profile_image&#39;: False, &#39;following&#39;: None, &#39;follow_request_sent&#39;: None, &#39;notifications&#39;: None, &#39;withheld_in_countries&#39;: []}, &#39;geo&#39;: None, &#39;coordinates&#39;: None, &#39;place&#39;: None, &#39;contributors&#39;: None, &#39;retweeted_status&#39;: {&#39;created_at&#39;: &#39;Mon Apr 18 19:39:47 +0000 2022&#39;, &#39;id&#39;: 1516139448014352384, &#39;id_str&#39;: &#39;1516139448014352384&#39;, &#39;text&#39;: &#39;he can defeat thanos https://t.co/nIgaWoHkcT&#39;, &#39;display_text_range&#39;: [0, 20], &#39;source&#39;: &#39;&lt;a href=&#34;http://twitter.com/download/iphone&#34; rel=&#34;nofollow&#34;&gt;Twitter for iPhone&lt;/a&gt;&#39;, &#39;truncated&#39;: False, &#39;in_reply_to_status_id&#39;: None, &#39;in_reply_to_status_id_str&#39;: None, &#39;in_reply_to_user_id&#39;: None, &#39;in_reply_to_user_id_str&#39;: None, &#39;in_reply_to_screen_name&#39;: None, &#39;user&#39;: {&#39;id&#39;: 1414262127519358980, &#39;id_str&#39;: &#39;1414262127519358980&#39;, &#39;name&#39;: &#39;j.m„Öé„Öé&#39;, &#39;screen_name&#39;: &#39;JMHlHl&#39;, &#39;location&#39;: &#39;she ‚Ä¢ her ‚Ä¢ anna&#39;, &#39;url&#39;: None, &#39;description&#39;: &#34;jimimhihi&#39;s non-gigglz (side acc) || @meonjmi (let&#39;s be friends)&#34;, &#39;translator_type&#39;: &#39;none&#39;, &#39;protected&#39;: False, &#39;verified&#39;: False, &#39;followers_count&#39;: 937, &#39;friends_count&#39;: 21, &#39;listed_count&#39;: 15, &#39;favourites_count&#39;: 336, &#39;statuses_count&#39;: 562, &#39;created_at&#39;: &#39;Sun Jul 11 16:35:52 +0000 2021&#39;, &#39;utc_offset&#39;: None, &#39;time_zone&#39;: None, &#39;geo_enabled&#39;: False, &#39;lang&#39;: None, &#39;contributors_enabled&#39;: False, &#39;is_translator&#39;: False, &#39;profile_background_color&#39;: &#39;F5F8FA&#39;, &#39;profile_background_image_url&#39;: &#39;&#39;, &#39;profile_background_image_url_https&#39;: &#39;&#39;, &#39;profile_background_tile&#39;: False, &#39;profile_link_color&#39;: &#39;1DA1F2&#39;, &#39;profile_sidebar_border_color&#39;: &#39;C0DEED&#39;, &#39;profile_sidebar_fill_color&#39;: &#39;DDEEF6&#39;, &#39;profile_text_color&#39;: &#39;333333&#39;, &#39;profile_use_background_image&#39;: True, &#39;profile_image_url&#39;: &#39;http://pbs.twimg.com/profile_images/1512506833843683328/lUAUA9Yi_normal.jpg&#39;, &#39;profile_image_url_https&#39;: &#39;https://pbs.twimg.com/profile_images/1512506833843683328/lUAUA9Yi_normal.jpg&#39;, &#39;profile_banner_url&#39;: &#39;https://pbs.twimg.com/profile_banners/1414262127519358980/1649444716&#39;, &#39;default_profile&#39;: True, &#39;default_profile_image&#39;: False, &#39;following&#39;: None, &#39;follow_request_sent&#39;: None, &#39;notifications&#39;: None, &#39;withheld_in_countries&#39;: []}, &#39;geo&#39;: None, &#39;coordinates&#39;: None, &#39;place&#39;: None, &#39;contributors&#39;: None, &#39;is_quote_status&#39;: False, &#39;quote_count&#39;: 23, &#39;reply_count&#39;: 9, &#39;retweet_count&#39;: 543, &#39;favorite_count&#39;: 2396, &#39;entities&#39;: {&#39;hashtags&#39;: [], &#39;urls&#39;: [], &#39;user_mentions&#39;: [], &#39;symbols&#39;: [], &#39;media&#39;: [{&#39;id&#39;: 1516139436035440641, &#39;id_str&#39;: &#39;1516139436035440641&#39;, &#39;indices&#39;: [21, 44], &#39;media_url&#39;: &#39;http://pbs.twimg.com/media/FQpoyMLagAEwWlg.jpg&#39;, &#39;media_url_https&#39;: &#39;https://pbs.twimg.com/media/FQpoyMLagAEwWlg.jpg&#39;, &#39;url&#39;: &#39;https://t.co/nIgaWoHkcT&#39;, &#39;display_url&#39;: &#39;pic.twitter.com/nIgaWoHkcT&#39;, &#39;expanded_url&#39;: &#39;https://twitter.com/JMHlHl/status/1516139448014352384/photo/1&#39;, &#39;type&#39;: &#39;photo&#39;, &#39;sizes&#39;: {&#39;thumb&#39;: {&#39;w&#39;: 150, &#39;h&#39;: 150, &#39;resize&#39;: &#39;crop&#39;}, &#39;medium&#39;: {&#39;w&#39;: 288, &#39;h&#39;: 288, &#39;resize&#39;: &#39;fit&#39;}, &#39;small&#39;: {&#39;w&#39;: 288, &#39;h&#39;: 288, &#39;resize&#39;: &#39;fit&#39;}, &#39;large&#39;: {&#39;w&#39;: 288, &#39;h&#39;: 288, &#39;resize&#39;: &#39;fit&#39;}}}]}, &#39;extended_entities&#39;: {&#39;media&#39;: [{&#39;id&#39;: 1516139436035440641, &#39;id_str&#39;: &#39;1516139436035440641&#39;, &#39;indices&#39;: [21, 44], &#39;media_url&#39;: &#39;http://pbs.twimg.com/media/FQpoyMLagAEwWlg.jpg&#39;, &#39;media_url_https&#39;: &#39;https://pbs.twimg.com/media/FQpoyMLagAEwWlg.jpg&#39;, &#39;url&#39;: &#39;https://t.co/nIgaWoHkcT&#39;, &#39;display_url&#39;: &#39;pic.twitter.com/nIgaWoHkcT&#39;, &#39;expanded_url&#39;: &#39;https://twitter.com/JMHlHl/status/1516139448014352384/photo/1&#39;, &#39;type&#39;: &#39;photo&#39;, &#39;sizes&#39;: {&#39;thumb&#39;: {&#39;w&#39;: 150, &#39;h&#39;: 150, &#39;resize&#39;: &#39;crop&#39;}, &#39;medium&#39;: {&#39;w&#39;: 288, &#39;h&#39;: 288, &#39;resize&#39;: &#39;fit&#39;}, &#39;small&#39;: {&#39;w&#39;: 288, &#39;h&#39;: 288, &#39;resize&#39;: &#39;fit&#39;}, &#39;large&#39;: {&#39;w&#39;: 288, &#39;h&#39;: 288, &#39;resize&#39;: &#39;fit&#39;}}}, {&#39;id&#39;: 1516139436031246336, &#39;id_str&#39;: &#39;1516139436031246336&#39;, &#39;indices&#39;: [21, 44], &#39;media_url&#39;: &#39;http://pbs.twimg.com/media/FQpoyMKagAASoke.jpg&#39;, &#39;media_url_https&#39;: &#39;https://pbs.twimg.com/media/FQpoyMKagAASoke.jpg&#39;, &#39;url&#39;: &#39;https://t.co/nIgaWoHkcT&#39;, &#39;display_url&#39;: &#39;pic.twitter.com/nIgaWoHkcT&#39;, &#39;expanded_url&#39;: &#39;https://twitter.com/JMHlHl/status/1516139448014352384/photo/1&#39;, &#39;type&#39;: &#39;photo&#39;, &#39;sizes&#39;: {&#39;thumb&#39;: {&#39;w&#39;: 150, &#39;h&#39;: 150, &#39;resize&#39;: &#39;crop&#39;}, &#39;small&#39;: {&#39;w&#39;: 313, &#39;h&#39;: 313, &#39;resize&#39;: &#39;fit&#39;}, &#39;large&#39;: {&#39;w&#39;: 313, &#39;h&#39;: 313, &#39;resize&#39;: &#39;fit&#39;}, &#39;medium&#39;: {&#39;w&#39;: 313, &#39;h&#39;: 313, &#39;resize&#39;: &#39;fit&#39;}}}]}, &#39;favorited&#39;: False, &#39;retweeted&#39;: False, &#39;possibly_sensitive&#39;: False, &#39;filter_level&#39;: &#39;low&#39;, &#39;lang&#39;: &#39;en&#39;}, &#39;is_quote_status&#39;: False, &#39;quote_count&#39;: 0, &#39;reply_count&#39;: 0, &#39;retweet_count&#39;: 0, &#39;favorite_count&#39;: 0, &#39;entities&#39;: {&#39;hashtags&#39;: [], &#39;urls&#39;: [], &#39;user_mentions&#39;: [{&#39;screen_name&#39;: &#39;JMHlHl&#39;, &#39;name&#39;: &#39;j.m„Öé„Öé&#39;, &#39;id&#39;: 1414262127519358980, &#39;id_str&#39;: &#39;1414262127519358980&#39;, &#39;indices&#39;: [3, 10]}], &#39;symbols&#39;: [], &#39;media&#39;: [{&#39;id&#39;: 1516139436035440641, &#39;id_str&#39;: &#39;1516139436035440641&#39;, &#39;indices&#39;: [33, 56], &#39;media_url&#39;: &#39;http://pbs.twimg.com/media/FQpoyMLagAEwWlg.jpg&#39;, &#39;media_url_https&#39;: &#39;https://pbs.twimg.com/media/FQpoyMLagAEwWlg.jpg&#39;, &#39;url&#39;: &#39;https://t.co/nIgaWoHkcT&#39;, &#39;display_url&#39;: &#39;pic.twitter.com/nIgaWoHkcT&#39;, &#39;expanded_url&#39;: &#39;https://twitter.com/JMHlHl/status/1516139448014352384/photo/1&#39;, &#39;type&#39;: &#39;photo&#39;, &#39;sizes&#39;: {&#39;thumb&#39;: {&#39;w&#39;: 150, &#39;h&#39;: 150, &#39;resize&#39;: &#39;crop&#39;}, &#39;medium&#39;: {&#39;w&#39;: 288, &#39;h&#39;: 288, &#39;resize&#39;: &#39;fit&#39;}, &#39;small&#39;: {&#39;w&#39;: 288, &#39;h&#39;: 288, &#39;resize&#39;: &#39;fit&#39;}, &#39;large&#39;: {&#39;w&#39;: 288, &#39;h&#39;: 288, &#39;resize&#39;: &#39;fit&#39;}}, &#39;source_status_id&#39;: 1516139448014352384, &#39;source_status_id_str&#39;: &#39;1516139448014352384&#39;, &#39;source_user_id&#39;: 1414262127519358980, &#39;source_user_id_str&#39;: &#39;1414262127519358980&#39;}]}, &#39;extended_entities&#39;: {&#39;media&#39;: [{&#39;id&#39;: 1516139436035440641, &#39;id_str&#39;: &#39;1516139436035440641&#39;, &#39;indices&#39;: [33, 56], &#39;media_url&#39;: &#39;http://pbs.twimg.com/media/FQpoyMLagAEwWlg.jpg&#39;, &#39;media_url_https&#39;: &#39;https://pbs.twimg.com/media/FQpoyMLagAEwWlg.jpg&#39;, &#39;url&#39;: &#39;https://t.co/nIgaWoHkcT&#39;, &#39;display_url&#39;: &#39;pic.twitter.com/nIgaWoHkcT&#39;, &#39;expanded_url&#39;: &#39;https://twitter.com/JMHlHl/status/1516139448014352384/photo/1&#39;, &#39;type&#39;: &#39;photo&#39;, &#39;sizes&#39;: {&#39;thumb&#39;: {&#39;w&#39;: 150, &#39;h&#39;: 150, &#39;resize&#39;: &#39;crop&#39;}, &#39;medium&#39;: {&#39;w&#39;: 288, &#39;h&#39;: 288, &#39;resize&#39;: &#39;fit&#39;}, &#39;small&#39;: {&#39;w&#39;: 288, &#39;h&#39;: 288, &#39;resize&#39;: &#39;fit&#39;}, &#39;large&#39;: {&#39;w&#39;: 288, &#39;h&#39;: 288, &#39;resize&#39;: &#39;fit&#39;}}, &#39;source_status_id&#39;: 1516139448014352384, &#39;source_status_id_str&#39;: &#39;1516139448014352384&#39;, &#39;source_user_id&#39;: 1414262127519358980, &#39;source_user_id_str&#39;: &#39;1414262127519358980&#39;}, {&#39;id&#39;: 1516139436031246336, &#39;id_str&#39;: &#39;1516139436031246336&#39;, &#39;indices&#39;: [33, 56], &#39;media_url&#39;: &#39;http://pbs.twimg.com/media/FQpoyMKagAASoke.jpg&#39;, &#39;media_url_https&#39;: &#39;https://pbs.twimg.com/media/FQpoyMKagAASoke.jpg&#39;, &#39;url&#39;: &#39;https://t.co/nIgaWoHkcT&#39;, &#39;display_url&#39;: &#39;pic.twitter.com/nIgaWoHkcT&#39;, &#39;expanded_url&#39;: &#39;https://twitter.com/JMHlHl/status/1516139448014352384/photo/1&#39;, &#39;type&#39;: &#39;photo&#39;, &#39;sizes&#39;: {&#39;thumb&#39;: {&#39;w&#39;: 150, &#39;h&#39;: 150, &#39;resize&#39;: &#39;crop&#39;}, &#39;small&#39;: {&#39;w&#39;: 313, &#39;h&#39;: 313, &#39;resize&#39;: &#39;fit&#39;}, &#39;large&#39;: {&#39;w&#39;: 313, &#39;h&#39;: 313, &#39;resize&#39;: &#39;fit&#39;}, &#39;medium&#39;: {&#39;w&#39;: 313, &#39;h&#39;: 313, &#39;resize&#39;: &#39;fit&#39;}}, &#39;source_status_id&#39;: 1516139448014352384, &#39;source_status_id_str&#39;: &#39;1516139448014352384&#39;, &#39;source_user_id&#39;: 1414262127519358980, &#39;source_user_id_str&#39;: &#39;1414262127519358980&#39;}]}, &#39;favorited&#39;: False, &#39;retweeted&#39;: False, &#39;possibly_sensitive&#39;: False, &#39;filter_level&#39;: &#39;low&#39;, &#39;lang&#39;: &#39;en&#39;, &#39;timestamp_ms&#39;: &#39;1650352311656&#39;, &#39;ignore_lang&#39;: True}, &#39;type&#39;: &#39;search&#39;}}, {&#39;_index&#39;: &#39;twitter_streaming&#39;, &#39;_type&#39;: &#39;_doc&#39;, &#39;_id&#39;: &#39;_RatQIABg_n2UR6_aECY&#39;, &#39;_score&#39;: 1.0, &#39;_source&#39;: {&#39;datetime&#39;: &#39;2022-04-19T07:14:46&#39;, &#39;datetime_gmt8&#39;: &#39;2022-04-19T15:14:46&#39;, &#39;data_text&#39;: &#39;Mohon sedekahkan al-Fatihah kepada sepupu saya ini, Muhammad Firdaus. Allahyarham masih sangat muda. Baik tutur katanya. Beliau kemalangan dalam perjalanan balik dari kerja di Hospital Temerloh. Selamat jalan Angah&#39;, &#39;body&#39;: &#39;RT @tunfairuz: Mohon sedekahkan al-Fatihah kepada sepupu saya ini, Muhammad Firdaus. Allahyarham masih sangat muda. Baik tutur katanya. Bel&#39;, &#39;screen_name&#39;: &#39;nurrshahidahh&#39;, &#39;followers_count&#39;: 167, &#39;friends_count&#39;: 502, &#39;listed_count&#39;: 0, &#39;favourites_count&#39;: 29445, &#39;statuses_count&#39;: 40044, &#39;quoted_status_text&#39;: &#39;Walao weh. giler uncle ni msuk simpang secara melulu mcmtu jee sampai rider terpelanting. naya nyawa org weh. https://t.co/m6G4LFYOHL&#39;, &#39;lang&#39;: &#39;in&#39;, &#39;retweet&#39;: &#39;true&#39;, &#39;retweet_text&#39;: &#39;Mohon sedekahkan al-Fatihah kepada sepupu saya ini, Muhammad Firdaus. Allahyarham masih sangat muda. Baik tutur kat https://t.co/0PWDpUGbPC&#39;, &#39;retweet_text_full&#39;: &#39;Mohon sedekahkan al-Fatihah kepada sepupu saya ini, Muhammad Firdaus. Allahyarham masih sangat muda. Baik tutur katanya. Beliau kemalangan dalam perjalanan balik dari kerja di Hospital Temerloh. Selamat jalan Angah&#39;, &#39;retweet_count&#39;: 0, &#39;retweet_detail&#39;: {&#39;retweet_count&#39;: 3771, &#39;quote_count&#39;: 59, &#39;favorite_count&#39;: 4206, &#39;reply_count&#39;: 83, &#39;id_str&#39;: &#39;1516136632436477953&#39;, &#39;followers_count&#39;: 1685, &#39;friends_count&#39;: 293, &#39;listed_count&#39;: 1, &#39;favourites_count&#39;: 2577, &#39;statuses_count&#39;: 9510, &#39;screen_name&#39;: &#39;tunfairuz&#39;}, &#39;quote_count&#39;: 0, &#39;favorite_count&#39;: 0, &#39;reply_count&#39;: 0, &#39;id_str&#39;: &#39;1516314345411858435&#39;, &#39;tweet&#39;: {&#39;created_at&#39;: &#39;Tue Apr 19 07:14:46 +0000 2022&#39;, &#39;id&#39;: 1516314345411858435, &#39;id_str&#39;: &#39;1516314345411858435&#39;, &#39;text&#39;: &#39;RT @tunfairuz: Mohon sedekahkan al-Fatihah kepada sepupu saya ini, Muhammad Firdaus. Allahyarham masih sangat muda. Baik tutur katanya. Bel‚Ä¶&#39;, &#39;source&#39;: &#39;&lt;a href=&#34;http://twitter.com/download/iphone&#34; rel=&#34;nofollow&#34;&gt;Twitter for iPhone&lt;/a&gt;&#39;, &#39;truncated&#39;: False, &#39;in_reply_to_status_id&#39;: None, &#39;in_reply_to_status_id_str&#39;: None, &#39;in_reply_to_user_id&#39;: None, &#39;in_reply_to_user_id_str&#39;: None, &#39;in_reply_to_screen_name&#39;: None, &#39;user&#39;: {&#39;id&#39;: 1159446479926202368, &#39;id_str&#39;: &#39;1159446479926202368&#39;, &#39;name&#39;: &#39;.&#39;, &#39;screen_name&#39;: &#39;nurrshahidahh&#39;, &#39;location&#39;: &#39;Perak, Malaysia&#39;, &#39;url&#39;: None, &#39;description&#39;: &#39;??????? idk what to do with my life now&#39;, &#39;translator_type&#39;: &#39;none&#39;, &#39;protected&#39;: False, &#39;verified&#39;: False, &#39;followers_count&#39;: 167, &#39;friends_count&#39;: 502, &#39;listed_count&#39;: 0, &#39;favourites_count&#39;: 29445, &#39;statuses_count&#39;: 40044, &#39;created_at&#39;: &#39;Thu Aug 08 12:49:17 +0000 2019&#39;, &#39;utc_offset&#39;: None, &#39;time_zone&#39;: None, &#39;geo_enabled&#39;: False, &#39;lang&#39;: None, &#39;contributors_enabled&#39;: False, &#39;is_translator&#39;: False, &#39;profile_background_color&#39;: &#39;F5F8FA&#39;, &#39;profile_background_image_url&#39;: &#39;&#39;, &#39;profile_background_image_url_https&#39;: &#39;&#39;, &#39;profile_background_tile&#39;: False, &#39;profile_link_color&#39;: &#39;1DA1F2&#39;, &#39;profile_sidebar_border_color&#39;: &#39;C0DEED&#39;, &#39;profile_sidebar_fill_color&#39;: &#39;DDEEF6&#39;, &#39;profile_text_color&#39;: &#39;333333&#39;, &#39;profile_use_background_image&#39;: True, &#39;profile_image_url&#39;: &#39;http://pbs.twimg.com/profile_images/1401136298279116803/GIziJcx5_normal.jpg&#39;, &#39;profile_image_url_https&#39;: &#39;https://pbs.twimg.com/profile_images/1401136298279116803/GIziJcx5_normal.jpg&#39;, &#39;profile_banner_url&#39;: &#39;https://pbs.twimg.com/profile_banners/1159446479926202368/1608479957&#39;, &#39;default_profile&#39;: True, &#39;default_profile_image&#39;: False, &#39;following&#39;: None, &#39;follow_request_sent&#39;: None, &#39;notifications&#39;: None, &#39;withheld_in_countries&#39;: []}, &#39;geo&#39;: None, &#39;coordinates&#39;: None, &#39;place&#39;: None, &#39;contributors&#39;: None, &#39;retweeted_status&#39;: {&#39;created_at&#39;: &#39;Mon Apr 18 19:28:36 +0000 2022&#39;, &#39;id&#39;: 1516136632436477953, &#39;id_str&#39;: &#39;1516136632436477953&#39;, &#39;text&#39;: &#39;Mohon sedekahkan al-Fatihah kepada sepupu saya ini, Muhammad Firdaus. Allahyarham masih sangat muda. Baik tutur kat‚Ä¶ https://t.co/0PWDpUGbPC&#39;, &#39;source&#39;: &#39;&lt;a href=&#34;http://twitter.com/download/iphone&#34; rel=&#34;nofollow&#34;&gt;Twitter for iPhone&lt;/a&gt;&#39;, &#39;truncated&#39;: True, &#39;in_reply_to_status_id&#39;: None, &#39;in_reply_to_status_id_str&#39;: None, &#39;in_reply_to_user_id&#39;: None, &#39;in_reply_to_user_id_str&#39;: None, &#39;in_reply_to_screen_name&#39;: None, &#39;user&#39;: {&#39;id&#39;: 777747875967086592, &#39;id_str&#39;: &#39;777747875967086592&#39;, &#39;name&#39;: &#39;Dewi&#39;, &#39;screen_name&#39;: &#39;tunfairuz&#39;, &#39;location&#39;: &#39;Limburg an der Lahn&#39;, &#39;url&#39;: &#39;http://naratif.org&#39;, &#39;description&#39;: &#39;Memento mori | Goethe-Uni | üá©üá™ | ABD&#39;, &#39;translator_type&#39;: &#39;none&#39;, &#39;protected&#39;: False, &#39;verified&#39;: False, &#39;followers_count&#39;: 1685, &#39;friends_count&#39;: 293, &#39;listed_count&#39;: 1, &#39;favourites_count&#39;: 2577, &#39;statuses_count&#39;: 9510, &#39;created_at&#39;: &#39;Mon Sep 19 05:55:18 +0000 2016&#39;, &#39;utc_offset&#39;: None, &#39;time_zone&#39;: None, &#39;geo_enabled&#39;: True, &#39;lang&#39;: None, &#39;contributors_enabled&#39;: False, &#39;is_translator&#39;: False, &#39;profile_background_color&#39;: &#39;F5F8FA&#39;, &#39;profile_background_image_url&#39;: &#39;&#39;, &#39;profile_background_image_url_https&#39;: &#39;&#39;, &#39;profile_background_tile&#39;: False, &#39;profile_link_color&#39;: &#39;1DA1F2&#39;, &#39;profile_sidebar_border_color&#39;: &#39;C0DEED&#39;, &#39;profile_sidebar_fill_color&#39;: &#39;DDEEF6&#39;, &#39;profile_text_color&#39;: &#39;333333&#39;, &#39;profile_use_background_image&#39;: True, &#39;profile_image_url&#39;: &#39;http://pbs.twimg.com/profile_images/1510899102862692353/d3oo3fqn_normal.jpg&#39;, &#39;profile_image_url_https&#39;: &#39;https://pbs.twimg.com/profile_images/1510899102862692353/d3oo3fqn_normal.jpg&#39;, &#39;profile_banner_url&#39;: &#39;https://pbs.twimg.com/profile_banners/777747875967086592/1574770629&#39;, &#39;default_profile&#39;: True, &#39;default_profile_image&#39;: False, &#39;following&#39;: None, &#39;follow_request_sent&#39;: None, &#39;notifications&#39;: None, &#39;withheld_in_countries&#39;: []}, &#39;geo&#39;: None, &#39;coordinates&#39;: None, &#39;place&#39;: None, &#39;contributors&#39;: None, &#39;quoted_status_id&#39;: 1516004095584530435, &#39;quoted_status_id_str&#39;: &#39;1516004095584530435&#39;, &#39;quoted_status&#39;: {&#39;created_at&#39;: &#39;Mon Apr 18 10:41:57 +0000 2022&#39;, &#39;id&#39;: 1516004095584530435, &#39;id_str&#39;: &#39;1516004095584530435&#39;, &#39;text&#39;: &#39;Walao weh. giler uncle ni msuk simpang secara melulu mcmtu jee sampai rider terpelanting. naya nyawa org weh. https://t.co/m6G4LFYOHL&#39;, &#39;display_text_range&#39;: [0, 109], &#39;source&#39;: &#39;&lt;a href=&#34;http://twitter.com/download/android&#34; rel=&#34;nofollow&#34;&gt;Twitter for Android&lt;/a&gt;&#39;, &#39;truncated&#39;: False, &#39;in_reply_to_status_id&#39;: None, &#39;in_reply_to_status_id_str&#39;: None, &#39;in_reply_to_user_id&#39;: None, &#39;in_reply_to_user_id_str&#39;: None, &#39;in_reply_to_screen_name&#39;: None, &#39;user&#39;: {&#39;id&#39;: 2905716522, &#39;id_str&#39;: &#39;2905716522&#39;, &#39;name&#39;: &#39;ISU SEMASA VIRAL&#39;, &#39;screen_name&#39;: &#39;isusemasaviral&#39;, &#39;location&#39;: &#39;Kuala Lumpur City&#39;, &#39;url&#39;: None, &#39;description&#39;: None, &#39;translator_type&#39;: &#39;none&#39;, &#39;protected&#39;: False, &#39;verified&#39;: False, &#39;followers_count&#39;: 27161, &#39;friends_count&#39;: 3, &#39;listed_count&#39;: 24, &#39;favourites_count&#39;: 70, &#39;statuses_count&#39;: 11758, &#39;created_at&#39;: &#39;Fri Nov 21 05:37:21 +0000 2014&#39;, &#39;utc_offset&#39;: None, &#39;time_zone&#39;: None, &#39;geo_enabled&#39;: False, &#39;lang&#39;: None, &#39;contributors_enabled&#39;: False, &#39;is_translator&#39;: False, &#39;profile_background_color&#39;: &#39;C0DEED&#39;, &#39;profile_background_image_url&#39;: &#39;http://abs.twimg.com/images/themes/theme1/bg.png&#39;, &#39;profile_background_image_url_https&#39;: &#39;https://abs.twimg.com/images/themes/theme1/bg.png&#39;, &#39;profile_background_tile&#39;: False, &#39;profile_link_color&#39;: &#39;1DA1F2&#39;, &#39;profile_sidebar_border_color&#39;: &#39;C0DEED&#39;, &#39;profile_sidebar_fill_color&#39;: &#39;DDEEF6&#39;, &#39;profile_text_color&#39;: &#39;333333&#39;, &#39;profile_use_background_image&#39;: True, &#39;profile_image_url&#39;: &#39;http://pbs.twimg.com/profile_images/1506279361301082115/rj9vuCGJ_normal.jpg&#39;, &#39;profile_image_url_https&#39;: &#39;https://pbs.twimg.com/profile_images/1506279361301082115/rj9vuCGJ_normal.jpg&#39;, &#39;profile_banner_url&#39;: &#39;https://pbs.twimg.com/profile_banners/2905716522/1647920971&#39;, &#39;default_profile&#39;: True, &#39;default_profile_image&#39;: False, &#39;following&#39;: None, &#39;follow_request_sent&#39;: None, &#39;notifications&#39;: None, &#39;withheld_in_countries&#39;: []}, &#39;geo&#39;: None, &#39;coordinates&#39;: None, &#39;place&#39;: None, &#39;contributors&#39;: None, &#39;is_quote_status&#39;: False, &#39;quote_count&#39;: 601, &#39;reply_count&#39;: 146, &#39;retweet_count&#39;: 3651, &#39;favorite_count&#39;: 4255, &#39;entities&#39;: {&#39;hashtags&#39;: [], &#39;urls&#39;: [], &#39;user_mentions&#39;: [], &#39;symbols&#39;: [], &#39;media&#39;: [{&#39;id&#39;: 1516004042249740288, &#39;id_str&#39;: &#39;1516004042249740288&#39;, &#39;indices&#39;: [110, 133], &#39;additional_media_info&#39;: {&#39;monetizable&#39;: False}, &#39;media_url&#39;: &#39;http://pbs.twimg.com/ext_tw_video_thumb/1516004042249740288/pu/img/Y3Nku2UTYiUAxZ7a.jpg&#39;, &#39;media_url_https&#39;: &#39;https://pbs.twimg.com/ext_tw_video_thumb/1516004042249740288/pu/img/Y3Nku2UTYiUAxZ7a.jpg&#39;, &#39;url&#39;: &#39;https://t.co/m6G4LFYOHL&#39;, &#39;display_url&#39;: &#39;pic.twitter.com/m6G4LFYOHL&#39;, &#39;expanded_url&#39;: &#39;https://twitter.com/isusemasaviral/status/1516004095584530435/video/1&#39;, &#39;type&#39;: &#39;photo&#39;, &#39;sizes&#39;: {&#39;large&#39;: {&#39;w&#39;: 1272, &#39;h&#39;: 720, &#39;resize&#39;: &#39;fit&#39;}, &#39;thumb&#39;: {&#39;w&#39;: 150, &#39;h&#39;: 150, &#39;resize&#39;: &#39;crop&#39;}, &#39;medium&#39;: {&#39;w&#39;: 1200, &#39;h&#39;: 679, &#39;resize&#39;: &#39;fit&#39;}, &#39;small&#39;: {&#39;w&#39;: 680, &#39;h&#39;: 385, &#39;resize&#39;: &#39;fit&#39;}}}]}, &#39;extended_entities&#39;: {&#39;media&#39;: [{&#39;id&#39;: 1516004042249740288, &#39;id_str&#39;: &#39;1516004042249740288&#39;, &#39;indices&#39;: [110, 133], &#39;additional_media_info&#39;: {&#39;monetizable&#39;: False}, &#39;media_url&#39;: &#39;http://pbs.twimg.com/ext_tw_video_thumb/1516004042249740288/pu/img/Y3Nku2UTYiUAxZ7a.jpg&#39;, &#39;media_url_https&#39;: &#39;https://pbs.twimg.com/ext_tw_video_thumb/1516004042249740288/pu/img/Y3Nku2UTYiUAxZ7a.jpg&#39;, &#39;url&#39;: &#39;https://t.co/m6G4LFYOHL&#39;, &#39;display_url&#39;: &#39;pic.twitter.com/m6G4LFYOHL&#39;, &#39;expanded_url&#39;: &#39;https://twitter.com/isusemasaviral/status/1516004095584530435/video/1&#39;, &#39;type&#39;: &#39;video&#39;, &#39;video_info&#39;: {&#39;aspect_ratio&#39;: [53, 30], &#39;duration_millis&#39;: 29601, &#39;variants&#39;: [{&#39;content_type&#39;: &#39;application/x-mpegURL&#39;, &#39;url&#39;: &#39;https://video.twimg.com/ext_tw_video/1516004042249740288/pu/pl/nQhTA_ESF2IV1-tk.m3u8?tag=12&amp;container=fmp4&#39;}, {&#39;bitrate&#39;: 256000, &#39;content_type&#39;: &#39;video/mp4&#39;, &#39;url&#39;: &#39;https://video.twimg.com/ext_tw_video/1516004042249740288/pu/vid/476x270/R3PD8Wlv5f_Qia7d.mp4?tag=12&#39;}, {&#39;bitrate&#39;: 2176000, &#39;content_type&#39;: &#39;video/mp4&#39;, &#39;url&#39;: &#39;https://video.twimg.com/ext_tw_video/1516004042249740288/pu/vid/1272x720/CF9niosUk6Bwv3dd.mp4?tag=12&#39;}, {&#39;bitrate&#39;: 832000, &#39;content_type&#39;: &#39;video/mp4&#39;, &#39;url&#39;: &#39;https://video.twimg.com/ext_tw_video/1516004042249740288/pu/vid/636x360/Pxqbs7kW_nJmmKTq.mp4?tag=12&#39;}]}, &#39;sizes&#39;: {&#39;large&#39;: {&#39;w&#39;: 1272, &#39;h&#39;: 720, &#39;resize&#39;: &#39;fit&#39;}, &#39;thumb&#39;: {&#39;w&#39;: 150, &#39;h&#39;: 150, &#39;resize&#39;: &#39;crop&#39;}, &#39;medium&#39;: {&#39;w&#39;: 1200, &#39;h&#39;: 679, &#39;resize&#39;: &#39;fit&#39;}, &#39;small&#39;: {&#39;w&#39;: 680, &#39;h&#39;: 385, &#39;resize&#39;: &#39;fit&#39;}}}]}, &#39;favorited&#39;: False, &#39;retweeted&#39;: False, &#39;possibly_sensitive&#39;: False, &#39;filter_level&#39;: &#39;low&#39;, &#39;lang&#39;: &#39;in&#39;}, &#39;quoted_status_permalink&#39;: {&#39;url&#39;: &#39;https://t.co/dONgHQEA9G&#39;, &#39;expanded&#39;: &#39;https://twitter.com/isusemasaviral/status/1516004095584530435&#39;, &#39;display&#39;: &#39;twitter.com/isusemasaviral‚Ä¶&#39;}, &#39;is_quote_status&#39;: True, &#39;extended_tweet&#39;: {&#39;full_text&#39;: &#39;Mohon sedekahkan al-Fatihah kepada sepupu saya ini, Muhammad Firdaus. Allahyarham masih sangat muda. Baik tutur katanya. Beliau kemalangan dalam perjalanan balik dari kerja di Hospital Temerloh. Selamat jalan Angah‚Ä¶&#39;, &#39;display_text_range&#39;: [0, 215], &#39;entities&#39;: {&#39;hashtags&#39;: [], &#39;urls&#39;: [], &#39;user_mentions&#39;: [], &#39;symbols&#39;: []}}, &#39;quote_count&#39;: 59, &#39;reply_count&#39;: 83, &#39;retweet_count&#39;: 3771, &#39;favorite_count&#39;: 4206, &#39;entities&#39;: {&#39;hashtags&#39;: [], &#39;urls&#39;: [{&#39;url&#39;: &#39;https://t.co/0PWDpUGbPC&#39;, &#39;expanded_url&#39;: &#39;https://twitter.com/i/web/status/1516136632436477953&#39;, &#39;display_url&#39;: &#39;twitter.com/i/web/status/1‚Ä¶&#39;, &#39;indices&#39;: [117, 140]}], &#39;user_mentions&#39;: [], &#39;symbols&#39;: []}, &#39;favorited&#39;: False, &#39;retweeted&#39;: False, &#39;filter_level&#39;: &#39;low&#39;, &#39;lang&#39;: &#39;in&#39;}, &#39;quoted_status_id&#39;: 1516004095584530435, &#39;quoted_status_id_str&#39;: &#39;1516004095584530435&#39;, &#39;quoted_status&#39;: {&#39;created_at&#39;: &#39;Mon Apr 18 10:41:57 +0000 2022&#39;, &#39;id&#39;: 1516004095584530435, &#39;id_str&#39;: &#39;1516004095584530435&#39;, &#39;text&#39;: &#39;Walao weh. giler uncle ni msuk simpang secara melulu mcmtu jee sampai rider terpelanting. naya nyawa org weh. https://t.co/m6G4LFYOHL&#39;, &#39;display_text_range&#39;: [0, 109], &#39;source&#39;: &#39;&lt;a href=&#34;http://twitter.com/download/android&#34; rel=&#34;nofollow&#34;&gt;Twitter for Android&lt;/a&gt;&#39;, &#39;truncated&#39;: False, &#39;in_reply_to_status_id&#39;: None, &#39;in_reply_to_status_id_str&#39;: None, &#39;in_reply_to_user_id&#39;: None, &#39;in_reply_to_user_id_str&#39;: None, &#39;in_reply_to_screen_name&#39;: None, &#39;user&#39;: {&#39;id&#39;: 2905716522, &#39;id_str&#39;: &#39;2905716522&#39;, &#39;name&#39;: &#39;ISU SEMASA VIRAL&#39;, &#39;screen_name&#39;: &#39;isusemasaviral&#39;, &#39;location&#39;: &#39;Kuala Lumpur City&#39;, &#39;url&#39;: None, &#39;description&#39;: None, &#39;translator_type&#39;: &#39;none&#39;, &#39;protected&#39;: False, &#39;verified&#39;: False, &#39;followers_count&#39;: 27161, &#39;friends_count&#39;: 3, &#39;listed_count&#39;: 24, &#39;favourites_count&#39;: 70, &#39;statuses_count&#39;: 11758, &#39;created_at&#39;: &#39;Fri Nov 21 05:37:21 +0000 2014&#39;, &#39;utc_offset&#39;: None, &#39;time_zone&#39;: None, &#39;geo_enabled&#39;: False, &#39;lang&#39;: None, &#39;contributors_enabled&#39;: False, &#39;is_translator&#39;: False, &#39;profile_background_color&#39;: &#39;C0DEED&#39;, &#39;profile_background_image_url&#39;: &#39;http://abs.twimg.com/images/themes/theme1/bg.png&#39;, &#39;profile_background_image_url_https&#39;: &#39;https://abs.twimg.com/images/themes/theme1/bg.png&#39;, &#39;profile_background_tile&#39;: False, &#39;profile_link_color&#39;: &#39;1DA1F2&#39;, &#39;profile_sidebar_border_color&#39;: &#39;C0DEED&#39;, &#39;profile_sidebar_fill_color&#39;: &#39;DDEEF6&#39;, &#39;profile_text_color&#39;: &#39;333333&#39;, &#39;profile_use_background_image&#39;: True, &#39;profile_image_url&#39;: &#39;http://pbs.twimg.com/profile_images/1506279361301082115/rj9vuCGJ_normal.jpg&#39;, &#39;profile_image_url_https&#39;: &#39;https://pbs.twimg.com/profile_images/1506279361301082115/rj9vuCGJ_normal.jpg&#39;, &#39;profile_banner_url&#39;: &#39;https://pbs.twimg.com/profile_banners/2905716522/1647920971&#39;, &#39;default_profile&#39;: True, &#39;default_profile_image&#39;: False, &#39;following&#39;: None, &#39;follow_request_sent&#39;: None, &#39;notifications&#39;: None, &#39;withheld_in_countries&#39;: []}, &#39;geo&#39;: None, &#39;coordinates&#39;: None, &#39;place&#39;: None, &#39;contributors&#39;: None, &#39;is_quote_status&#39;: False, &#39;quote_count&#39;: 601, &#39;reply_count&#39;: 146, &#39;retweet_count&#39;: 3651, &#39;favorite_count&#39;: 4255, &#39;entities&#39;: {&#39;hashtags&#39;: [], &#39;urls&#39;: [], &#39;user_mentions&#39;: [], &#39;symbols&#39;: [], &#39;media&#39;: [{&#39;id&#39;: 1516004042249740288, &#39;id_str&#39;: &#39;1516004042249740288&#39;, &#39;indices&#39;: [110, 133], &#39;additional_media_info&#39;: {&#39;monetizable&#39;: False}, &#39;media_url&#39;: &#39;http://pbs.twimg.com/ext_tw_video_thumb/1516004042249740288/pu/img/Y3Nku2UTYiUAxZ7a.jpg&#39;, &#39;media_url_https&#39;: &#39;https://pbs.twimg.com/ext_tw_video_thumb/1516004042249740288/pu/img/Y3Nku2UTYiUAxZ7a.jpg&#39;, &#39;url&#39;: &#39;https://t.co/m6G4LFYOHL&#39;, &#39;display_url&#39;: &#39;pic.twitter.com/m6G4LFYOHL&#39;, &#39;expanded_url&#39;: &#39;https://twitter.com/isusemasaviral/status/1516004095584530435/video/1&#39;, &#39;type&#39;: &#39;photo&#39;, &#39;sizes&#39;: {&#39;large&#39;: {&#39;w&#39;: 1272, &#39;h&#39;: 720, &#39;resize&#39;: &#39;fit&#39;}, &#39;thumb&#39;: {&#39;w&#39;: 150, &#39;h&#39;: 150, &#39;resize&#39;: &#39;crop&#39;}, &#39;medium&#39;: {&#39;w&#39;: 1200, &#39;h&#39;: 679, &#39;resize&#39;: &#39;fit&#39;}, &#39;small&#39;: {&#39;w&#39;: 680, &#39;h&#39;: 385, &#39;resize&#39;: &#39;fit&#39;}}}]}, &#39;extended_entities&#39;: {&#39;media&#39;: [{&#39;id&#39;: 1516004042249740288, &#39;id_str&#39;: &#39;1516004042249740288&#39;, &#39;indices&#39;: [110, 133], &#39;additional_media_info&#39;: {&#39;monetizable&#39;: False}, &#39;media_url&#39;: &#39;http://pbs.twimg.com/ext_tw_video_thumb/1516004042249740288/pu/img/Y3Nku2UTYiUAxZ7a.jpg&#39;, &#39;media_url_https&#39;: &#39;https://pbs.twimg.com/ext_tw_video_thumb/1516004042249740288/pu/img/Y3Nku2UTYiUAxZ7a.jpg&#39;, &#39;url&#39;: &#39;https://t.co/m6G4LFYOHL&#39;, &#39;display_url&#39;: &#39;pic.twitter.com/m6G4LFYOHL&#39;, &#39;expanded_url&#39;: &#39;https://twitter.com/isusemasaviral/status/1516004095584530435/video/1&#39;, &#39;type&#39;: &#39;video&#39;, &#39;video_info&#39;: {&#39;aspect_ratio&#39;: [53, 30], &#39;duration_millis&#39;: 29601, &#39;variants&#39;: [{&#39;content_type&#39;: &#39;application/x-mpegURL&#39;, &#39;url&#39;: &#39;https://video.twimg.com/ext_tw_video/1516004042249740288/pu/pl/nQhTA_ESF2IV1-tk.m3u8?tag=12&amp;container=fmp4&#39;}, {&#39;bitrate&#39;: 256000, &#39;content_type&#39;: &#39;video/mp4&#39;, &#39;url&#39;: &#39;https://video.twimg.com/ext_tw_video/1516004042249740288/pu/vid/476x270/R3PD8Wlv5f_Qia7d.mp4?tag=12&#39;}, {&#39;bitrate&#39;: 2176000, &#39;content_type&#39;: &#39;video/mp4&#39;, &#39;url&#39;: &#39;https://video.twimg.com/ext_tw_video/1516004042249740288/pu/vid/1272x720/CF9niosUk6Bwv3dd.mp4?tag=12&#39;}, {&#39;bitrate&#39;: 832000, &#39;content_type&#39;: &#39;video/mp4&#39;, &#39;url&#39;: &#39;https://video.twimg.com/ext_tw_video/1516004042249740288/pu/vid/636x360/Pxqbs7kW_nJmmKTq.mp4?tag=12&#39;}]}, &#39;sizes&#39;: {&#39;large&#39;: {&#39;w&#39;: 1272, &#39;h&#39;: 720, &#39;resize&#39;: &#39;fit&#39;}, &#39;thumb&#39;: {&#39;w&#39;: 150, &#39;h&#39;: 150, &#39;resize&#39;: &#39;crop&#39;}, &#39;medium&#39;: {&#39;w&#39;: 1200, &#39;h&#39;: 679, &#39;resize&#39;: &#39;fit&#39;}, &#39;small&#39;: {&#39;w&#39;: 680, &#39;h&#39;: 385, &#39;resize&#39;: &#39;fit&#39;}}}]}, &#39;favorited&#39;: False, &#39;retweeted&#39;: False, &#39;possibly_sensitive&#39;: False, &#39;filter_level&#39;: &#39;low&#39;, &#39;lang&#39;: &#39;in&#39;}, &#39;quoted_status_permalink&#39;: {&#39;url&#39;: &#39;https://t.co/dONgHQEA9G&#39;, &#39;expanded&#39;: &#39;https://twitter.com/isusemasaviral/status/1516004095584530435&#39;, &#39;display&#39;: &#39;twitter.com/isusemasaviral‚Ä¶&#39;}, &#39;is_quote_status&#39;: True, &#39;quote_count&#39;: 0, &#39;reply_count&#39;: 0, &#39;retweet_count&#39;: 0, &#39;favorite_count&#39;: 0, &#39;entities&#39;: {&#39;hashtags&#39;: [], &#39;urls&#39;: [], &#39;user_mentions&#39;: [{&#39;screen_name&#39;: &#39;tunfairuz&#39;, &#39;name&#39;: &#39;Dewi&#39;, &#39;id&#39;: 777747875967086592, &#39;id_str&#39;: &#39;777747875967086592&#39;, &#39;indices&#39;: [3, 13]}], &#39;symbols&#39;: []}, &#39;favorited&#39;: False, &#39;retweeted&#39;: False, &#39;filter_level&#39;: &#39;low&#39;, &#39;lang&#39;: &#39;in&#39;, &#39;timestamp_ms&#39;: &#39;1650352486361&#39;, &#39;ignore_lang&#39;: True}, &#39;type&#39;: &#39;search&#39;}}]}} . url = &#39;https://elasticsearch.malaysiaai.ml/twitter_streaming/_count&#39; requests.get(url, cookies = cookies).json() . {&#39;count&#39;: 696042, &#39;_shards&#39;: {&#39;total&#39;: 1, &#39;successful&#39;: 1, &#39;skipped&#39;: 0, &#39;failed&#39;: 0}} . News . Simply query https://elasticsearch.malaysiaai.ml/news_v2/_search . query = { &#39;size&#39;: 2 } url = &#39;https://elasticsearch.malaysiaai.ml/news_v2/_search&#39; requests.get(url, cookies = cookies, json = query).json() . {&#39;took&#39;: 617, &#39;timed_out&#39;: False, &#39;_shards&#39;: {&#39;total&#39;: 1, &#39;successful&#39;: 1, &#39;skipped&#39;: 0, &#39;failed&#39;: 0}, &#39;hits&#39;: {&#39;total&#39;: {&#39;value&#39;: 1406, &#39;relation&#39;: &#39;eq&#39;}, &#39;max_score&#39;: 1.0, &#39;hits&#39;: [{&#39;_index&#39;: &#39;news_v2&#39;, &#39;_type&#39;: &#39;_doc&#39;, &#39;_id&#39;: &#39;https://www.theborneopost.com/2022/04/17/debate-between-anwar-and-najib-on-may-12/&#39;, &#39;_score&#39;: 1.0, &#39;_ignored&#39;: [&#39;extractnet.description.keyword&#39;, &#39;extractnet.content.keyword&#39;], &#39;_source&#39;: {&#39;title&#39;: &#39;Debate between Anwar and Najib on May 12&#39;, &#39;media&#39;: &#39;&#39;, &#39;date&#39;: &#39;8 hours ago&#39;, &#39;datetime&#39;: &#39;2022-04-17T15:17:40.338691&#39;, &#39;desc&#39;: &#39;KUALA LUMPUR (April 17): The debate between PKR president Datuk Seri Anwar nIbrahim and former Prime Minister Datuk Seri Najib Tun Razak will be held non May...&#39;, &#39;link&#39;: &#39;https://www.theborneopost.com/2022/04/17/debate-between-anwar-and-najib-on-may-12/&#39;, &#39;img&#39;: &#39;data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==&#39;, &#39;extractnet&#39;: {&#39;content&#39;: &#39;Representative of Datuk Seri Anwar Ibrahim, Fahmi Fadzil and representative of Datuk Seri Najib Razak, Isham Jalil speaks during a press conference on the Najib vs Anwar debate, Kuala Lumpur April 17, 2022. ‚Äì Malay Mail photo nKUALA LUMPUR (April 17): The debate between PKR president Datuk Seri Anwar Ibrahim and former Prime Minister Datuk Seri Najib Tun Razak will be held on May 12. nPKR Communications director Ahmad Fahmi Mohamed Fadzil said it will be held at the Tunku Chancellor‚Äôs Hall, Universiti Malaya, here at 9pm and will also be broadcast live through media channels to be announced later. n‚ÄúDetailed information on the physical presence will be announced later,‚Äù he said at a press conference with Selangor Barisan Nasional (BN) Information chief Isham Jalil here today. nAhmad Fahmi said the format of the debate between the two political figures would consist of three parts, with the first on problems facing oil and gas company xa0Sapura Energy Bhd (SEB), whether it should be saved or not. n‚ÄúThe second is on ‚ÄòMalaysia‚Äôs Future‚Äô covering economy, politics, governance and the country‚Äôs direction and the third is the question and answer session,‚Äù he said, adding that the debate is scheduled for two hours. nMeanwhile, Isham said in compliance with the standard operating procedures on Covid-19, the Dewan Tunku Chancellor could accommodate about 500 people. n‚ÄúOutside the hall there is also an area and we will set up tents and big screens to be broadcast to those present at the location because inside the hall there are constraints (invitation capacity),‚Äù he said. nHe said canopies would be set up outside the hall, and those present could watch the debate live on a large screen. ‚Äì Bernama&#39;, &#39;headlines&#39;: &#39;April 17, 2022, Sunday at 2:25 PM&#39;, &#39;title&#39;: &#39;Debate between Anwar and Najib on May 12 - Borneo Post Online&#39;, &#39;url&#39;: &#39;https://www.theborneopost.com/2022/04/17/debate-between-anwar-and-najib-on-may-12/&#39;, &#39;hostname&#39;: &#39;theborneopost.com&#39;, &#39;description&#39;: &#34;KUALA LUMPUR (April 17): The debate between PKR president Datuk Seri Anwar Ibrahim and former Prime Minister Datuk Seri Najib Tun Razak will be held on May 12. PKR Communications director Ahmad Fahmi Mohamed Fadzil said it will be held at the Tunku Chancellor&#39;s Hall, Universiti Malaya, here at 9pm and will also be broadcast live through media channels to be&#34;, &#39;sitename&#39;: &#39;Borneo Post Online&#39;, &#39;date&#39;: &#39;2022-04-17T00:00:00&#39;, &#39;categories&#39;: [&#39;Nation&#39;], &#39;tags&#39;: [], &#39;site_name&#39;: &#39;Borneo Post Online&#39;, &#39;rawAuthor&#39;: &#39;BP 3&#39;, &#39;authorList&#39;: [&#39;BP 3&#39;], &#39;rawDate&#39;: &#39;2022-04-17&#39;}, &#39;lang&#39;: &#39;en&#39;}}, {&#39;_index&#39;: &#39;news_v2&#39;, &#39;_type&#39;: &#39;_doc&#39;, &#39;_id&#39;: &#39;https://www.malaymail.com/news/malaysia/2022/04/17/najib-anwar-debate-communications-ministry-not-approached-for-use-of-govt-m/2054100&#39;, &#39;_score&#39;: 1.0, &#39;_ignored&#39;: [&#39;extractnet.description.keyword&#39;, &#39;extractnet.content.keyword&#39;], &#39;_source&#39;: {&#39;title&#39;: &#39;Najib-Anwar debate: Communications Ministry not approached for use of govt media platform, says minister&#39;, &#39;media&#39;: &#39;&#39;, &#39;date&#39;: &#39;3 mins ago&#39;, &#39;datetime&#39;: None, &#39;desc&#39;: &#34;MELAKA, April &#39;17 ‚Äî No parties have approached the Communications and nMultimedia Ministry to discuss if a government media platform can be used nto air the...&#34;, &#39;link&#39;: &#39;https://www.malaymail.com/news/malaysia/2022/04/17/najib-anwar-debate-communications-ministry-not-approached-for-use-of-govt-m/2054100&#39;, &#39;img&#39;: &#39;data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==&#39;, &#39;extractnet&#39;: {&#39;content&#39;: &#39;Tan Sri Annuar Musa said the debate had nothing to do with the government. ‚Äî Bernama pic nInstagram and subscribe to our nTelegram channel for the latest updates. nMELAKA, xa0 April ‚Äò17 ‚Äî No parties have approached the Communications and Multimedia Ministry to discuss if a government media platform can be used to air the public debate between Datuk Seri Najib Tun Razak and Datuk Seri Anwar Ibrahim on May 12. nCommunications and Multimedia Minister Tan Sri Annuar Musa said the debate had nothing to do with the government and he considered it a discourse between two individuals. n‚ÄúSo the government is staying out of this, and I have not been approached by anyone either. I believe it is still at a stage between two individuals,‚Äù he told reporters after attending a breaking of fast event with the Melaka community at the DoubleTree By Hilton hotel here today. nAlso present was Malaysian National News Agency (Bernama acting chief executive officer Roslan Ariffin. nAnnuar said he only followed the latest developments on the matter because one was the Opposition chief while the other was a government backbencher. nAnnuar, however, did not rule out the use of social media or any of the latest digital platforms to air the debate. n‚ÄúLive (streaming) is common with technology nowadays and perhaps there are also television networks that may want to provide a platform as well. n‚ÄúAnyway, that‚Äôs something (to be decided) for later. We cannot say maybe either as saying that is akin to committing (for the debate to be aired via a government platform). I will consider this a normal debate between two individuals,‚Äù he said. nPKR Communications director Ahmad Fahmi Mohamed Fadzil announced earlier today that the debate will take place at 9 pm on May 12, and will, among others, discuss the Sapura Energy Bhd (SEB) issue and ‚ÄòMalaysia‚Äôs Future‚Äô covering economy, politics, governance and the country‚Äôs direction. nTogether with him at the media conference held here was Selangor Barisan Nasional (BN) Information chief Isham Jalil. nSo far, the debate can be viewed via media channels to be announced later or watched live at Dewan Tunku Canselor, Universiti Malaya here. nEarlier, Annuar paid a courtesy call on Yang Dipertua Negeri of Melaka Tun Mohd Ali Mohd Rustam at his office at Seri Negeri and briefed him on efforts being taken by the ministry in Melaka. n‚ÄúI also informed that the National Journalists Day will be held in Melaka this year,‚Äù Annuar said in a Twitter post tonight. ‚Äî xa0Bernama&#39;, &#39;headlines&#39;: &#39;Najib-Anwar debate: Communications Ministry not approached for use of govt media platform, says minister&#39;, &#39;title&#39;: &#39;Najib-Anwar debate: Communications Ministry not approached for use of govt media platform, says minister | Malay Mail&#39;, &#39;url&#39;: &#39;https://www.malaymail.com/news/malaysia/2022/04/17/najib-anwar-debate-communications-ministry-not-approached-for-use-of-govt-m/2054100&#39;, &#39;hostname&#39;: &#39;malaymail.com&#39;, &#39;description&#39;: &#39;MELAKA,&amp;nbsp; April ‚Äò17 ‚Äî No parties have approached the Communications and Multimedia Ministry to discuss if a government media platform can be used to air the public debate between Datuk Seri Najib Tun Razak and Datuk Seri Anwar Ibrahim on May 12. Communications and Multimedia Minister Tan...&#39;, &#39;sitename&#39;: &#39;Malay Mail&#39;, &#39;date&#39;: &#39;2022-04-17T00:00:00&#39;, &#39;categories&#39;: [&#39;Malaysia&#39;], &#39;tags&#39;: [&#39;annuar musa&#39;, &#39; anwar ibrahim najib razak debate&#39;], &#39;site_name&#39;: &#39;@malaymail&#39;, &#39;video&#39;: &#39;https://www.googletagmanager.com/ns.html?id=GTM-5LC3K8F&#39;, &#39;rawAuthor&#39;: &#39;Malay Mail&#39;, &#39;authorList&#39;: [&#39;Malay Mail&#39;], &#39;rawDate&#39;: &#39;2022-04-17&#39;}, &#39;lang&#39;: &#39;en&#39;, &#39;lang_deep&#39;: &#39;eng&#39;}}]}} . url = &#39;https://elasticsearch.malaysiaai.ml/news_v2/_count&#39; requests.get(url, cookies = cookies).json() . {&#39;count&#39;: 1406, &#39;_shards&#39;: {&#39;total&#39;: 1, &#39;successful&#39;: 1, &#39;skipped&#39;: 0, &#39;failed&#39;: 0}} . simple alerts . We also deployed alerts at Grafana Cloud using PromQL, https://huseinzol05.grafana.net/d/BHvsNRwnz/crawler-alerts?orgId=1 . You can check prometheus.yaml, again, you need to be part of Malaysia-AI to access it. . Feel free to contact husein.zol05@gmail.com to get access for Grafana Cloud. . . Any graphs goes down below than 1, it will send an alert at Discord, . .",
            "url": "https://blog.malaysiaai.ml/2022/04/18/twitter-news.html",
            "relUrl": "/2022/04/18/twitter-news.html",
            "date": " ‚Ä¢ Apr 18, 2022"
        }
        
    
  
    
        ,"post1": {
            "title": "Available Infrastructure in Malaysia AI",
            "content": "We have, . ElasticSearch, https://elasticsearch.malaysiaai.ml/ | Kibana, https://kibana.favedata.ml/ | Neo4J, https://neo4j.malaysiaai.ml/ | PostgREST, https://postgrest.malaysiaai.ml/ | VSCode, https://vscode.malaysiaai.ml/ | Jupyter Notebook, https://jupyterhub.malaysiaai.ml/ | OSRM Malaysia, https://osrm.malaysiaai.ml/ | All examples below heavily use Chrome to fetch cookies, if you are using Firefox or other supported browsers, https://github.com/borisbabic/browser_cookie3 . from elasticsearch import Elasticsearch from elasticsearch_dsl import Search from pycookiecheat import chrome_cookies import requests . ElasticSearch . To access ElasticSearch from anywhere, . Install dependencies, | pip3 install requests pycookiecheat elasticsearch elasticsearch-dsl . You need to login https://elasticsearch.malaysiaai.ml using your Chrome. . | Get the cookies. . | url = &#39;https://elasticsearch.malaysiaai.ml&#39; cookies = chrome_cookies(url) . requests.get(url, cookies = cookies).json() . {&#39;name&#39;: &#39;huseincomel-desktop&#39;, &#39;cluster_name&#39;: &#39;elasticsearch&#39;, &#39;cluster_uuid&#39;: &#39;WLWwNUhcTAaU7BGpsKwNkA&#39;, &#39;version&#39;: {&#39;number&#39;: &#39;7.15.2&#39;, &#39;build_flavor&#39;: &#39;default&#39;, &#39;build_type&#39;: &#39;deb&#39;, &#39;build_hash&#39;: &#39;93d5a7f6192e8a1a12e154a2b81bf6fa7309da0c&#39;, &#39;build_date&#39;: &#39;2021-11-04T14:04:42.515624022Z&#39;, &#39;build_snapshot&#39;: False, &#39;lucene_version&#39;: &#39;8.9.0&#39;, &#39;minimum_wire_compatibility_version&#39;: &#39;6.8.0&#39;, &#39;minimum_index_compatibility_version&#39;: &#39;6.0.0-beta1&#39;}, &#39;tagline&#39;: &#39;You Know, for Search&#39;} . If you are using https://jupyterhub.malaysiaai.ml/, ElasticSearch available at http://localhost:9200 . Neo4J . To access Neo4J from anywhere, . Install dependencies, | pip3 install requests pycookiecheat . You need to login https://neo4j.malaysiaai.ml using your Chrome. . | Get the cookies. . | url = &#39;https://neo4j.malaysiaai.ml&#39; cookies = chrome_cookies(url) . requests.get(url, cookies = cookies).json() . {&#39;bolt_routing&#39;: &#39;neo4j://neo4j.malaysiaai.ml:7687&#39;, &#39;transaction&#39;: &#39;http://neo4j.malaysiaai.ml/db/{databaseName}/tx&#39;, &#39;bolt_direct&#39;: &#39;bolt://neo4j.malaysiaai.ml:7687&#39;, &#39;neo4j_version&#39;: &#39;4.3.2&#39;, &#39;neo4j_edition&#39;: &#39;community&#39;} . If you are using https://jupyterhub.malaysiaai.ml/, Neo4J available at http://localhost:7474 . PostgREST . To access PostgREST from anywhere, . Install dependencies, | pip3 install requests pycookiecheat . You need to login https://postgrest.malaysiaai.ml using your Chrome. . | Get the cookies. . | url = &#39;https://postgrest.malaysiaai.ml&#39; cookies = chrome_cookies(url) . requests.get(url, cookies = cookies).json() . {&#39;swagger&#39;: &#39;2.0&#39;, &#39;info&#39;: {&#39;version&#39;: &#39;9.0.0&#39;, &#39;title&#39;: &#39;PostgREST API&#39;, &#39;description&#39;: &#39;standard public schema&#39;}, &#39;host&#39;: &#39;0.0.0.0:3000&#39;, &#39;basePath&#39;: &#39;/&#39;, &#39;schemes&#39;: [&#39;http&#39;], &#39;consumes&#39;: [&#39;application/json&#39;, &#39;application/vnd.pgrst.object+json&#39;, &#39;text/csv&#39;], &#39;produces&#39;: [&#39;application/json&#39;, &#39;application/vnd.pgrst.object+json&#39;, &#39;text/csv&#39;], &#39;paths&#39;: {&#39;/&#39;: {&#39;get&#39;: {&#39;tags&#39;: [&#39;Introspection&#39;], &#39;summary&#39;: &#39;OpenAPI description (this document)&#39;, &#39;produces&#39;: [&#39;application/openapi+json&#39;, &#39;application/json&#39;], &#39;responses&#39;: {&#39;200&#39;: {&#39;description&#39;: &#39;OK&#39;}}}}, &#39;/todos&#39;: {&#39;get&#39;: {&#39;tags&#39;: [&#39;todos&#39;], &#39;parameters&#39;: [{&#39;$ref&#39;: &#39;#/parameters/rowFilter.todos.id&#39;}, {&#39;$ref&#39;: &#39;#/parameters/rowFilter.todos.done&#39;}, {&#39;$ref&#39;: &#39;#/parameters/rowFilter.todos.task&#39;}, {&#39;$ref&#39;: &#39;#/parameters/rowFilter.todos.due&#39;}, {&#39;$ref&#39;: &#39;#/parameters/select&#39;}, {&#39;$ref&#39;: &#39;#/parameters/order&#39;}, {&#39;$ref&#39;: &#39;#/parameters/range&#39;}, {&#39;$ref&#39;: &#39;#/parameters/rangeUnit&#39;}, {&#39;$ref&#39;: &#39;#/parameters/offset&#39;}, {&#39;$ref&#39;: &#39;#/parameters/limit&#39;}, {&#39;$ref&#39;: &#39;#/parameters/preferCount&#39;}], &#39;responses&#39;: {&#39;206&#39;: {&#39;description&#39;: &#39;Partial Content&#39;}, &#39;200&#39;: {&#39;schema&#39;: {&#39;items&#39;: {&#39;$ref&#39;: &#39;#/definitions/todos&#39;}, &#39;type&#39;: &#39;array&#39;}, &#39;description&#39;: &#39;OK&#39;}}}, &#39;post&#39;: {&#39;tags&#39;: [&#39;todos&#39;], &#39;parameters&#39;: [{&#39;$ref&#39;: &#39;#/parameters/body.todos&#39;}, {&#39;$ref&#39;: &#39;#/parameters/select&#39;}, {&#39;$ref&#39;: &#39;#/parameters/preferReturn&#39;}], &#39;responses&#39;: {&#39;201&#39;: {&#39;description&#39;: &#39;Created&#39;}}}, &#39;delete&#39;: {&#39;tags&#39;: [&#39;todos&#39;], &#39;parameters&#39;: [{&#39;$ref&#39;: &#39;#/parameters/rowFilter.todos.id&#39;}, {&#39;$ref&#39;: &#39;#/parameters/rowFilter.todos.done&#39;}, {&#39;$ref&#39;: &#39;#/parameters/rowFilter.todos.task&#39;}, {&#39;$ref&#39;: &#39;#/parameters/rowFilter.todos.due&#39;}, {&#39;$ref&#39;: &#39;#/parameters/preferReturn&#39;}], &#39;responses&#39;: {&#39;204&#39;: {&#39;description&#39;: &#39;No Content&#39;}}}, &#39;patch&#39;: {&#39;tags&#39;: [&#39;todos&#39;], &#39;parameters&#39;: [{&#39;$ref&#39;: &#39;#/parameters/rowFilter.todos.id&#39;}, {&#39;$ref&#39;: &#39;#/parameters/rowFilter.todos.done&#39;}, {&#39;$ref&#39;: &#39;#/parameters/rowFilter.todos.task&#39;}, {&#39;$ref&#39;: &#39;#/parameters/rowFilter.todos.due&#39;}, {&#39;$ref&#39;: &#39;#/parameters/body.todos&#39;}, {&#39;$ref&#39;: &#39;#/parameters/preferReturn&#39;}], &#39;responses&#39;: {&#39;204&#39;: {&#39;description&#39;: &#39;No Content&#39;}}}}}, &#39;definitions&#39;: {&#39;todos&#39;: {&#39;required&#39;: [&#39;id&#39;, &#39;done&#39;, &#39;task&#39;], &#39;properties&#39;: {&#39;id&#39;: {&#39;format&#39;: &#39;integer&#39;, &#39;type&#39;: &#39;integer&#39;, &#39;description&#39;: &#39;Note: nThis is a Primary Key.&lt;pk/&gt;&#39;}, &#39;done&#39;: {&#39;default&#39;: False, &#39;format&#39;: &#39;boolean&#39;, &#39;type&#39;: &#39;boolean&#39;}, &#39;task&#39;: {&#39;format&#39;: &#39;text&#39;, &#39;type&#39;: &#39;string&#39;}, &#39;due&#39;: {&#39;format&#39;: &#39;timestamp with time zone&#39;, &#39;type&#39;: &#39;string&#39;}}, &#39;type&#39;: &#39;object&#39;}}, &#39;parameters&#39;: {&#39;preferParams&#39;: {&#39;name&#39;: &#39;Prefer&#39;, &#39;description&#39;: &#39;Preference&#39;, &#39;required&#39;: False, &#39;in&#39;: &#39;header&#39;, &#39;type&#39;: &#39;string&#39;, &#39;enum&#39;: [&#39;params=single-object&#39;]}, &#39;preferReturn&#39;: {&#39;name&#39;: &#39;Prefer&#39;, &#39;description&#39;: &#39;Preference&#39;, &#39;required&#39;: False, &#39;in&#39;: &#39;header&#39;, &#39;type&#39;: &#39;string&#39;, &#39;enum&#39;: [&#39;return=representation&#39;, &#39;return=minimal&#39;, &#39;return=none&#39;]}, &#39;preferCount&#39;: {&#39;name&#39;: &#39;Prefer&#39;, &#39;description&#39;: &#39;Preference&#39;, &#39;required&#39;: False, &#39;in&#39;: &#39;header&#39;, &#39;type&#39;: &#39;string&#39;, &#39;enum&#39;: [&#39;count=none&#39;]}, &#39;select&#39;: {&#39;name&#39;: &#39;select&#39;, &#39;description&#39;: &#39;Filtering Columns&#39;, &#39;required&#39;: False, &#39;in&#39;: &#39;query&#39;, &#39;type&#39;: &#39;string&#39;}, &#39;on_conflict&#39;: {&#39;name&#39;: &#39;on_conflict&#39;, &#39;description&#39;: &#39;On Conflict&#39;, &#39;required&#39;: False, &#39;in&#39;: &#39;query&#39;, &#39;type&#39;: &#39;string&#39;}, &#39;order&#39;: {&#39;name&#39;: &#39;order&#39;, &#39;description&#39;: &#39;Ordering&#39;, &#39;required&#39;: False, &#39;in&#39;: &#39;query&#39;, &#39;type&#39;: &#39;string&#39;}, &#39;range&#39;: {&#39;name&#39;: &#39;Range&#39;, &#39;description&#39;: &#39;Limiting and Pagination&#39;, &#39;required&#39;: False, &#39;in&#39;: &#39;header&#39;, &#39;type&#39;: &#39;string&#39;}, &#39;rangeUnit&#39;: {&#39;name&#39;: &#39;Range-Unit&#39;, &#39;description&#39;: &#39;Limiting and Pagination&#39;, &#39;required&#39;: False, &#39;default&#39;: &#39;items&#39;, &#39;in&#39;: &#39;header&#39;, &#39;type&#39;: &#39;string&#39;}, &#39;offset&#39;: {&#39;name&#39;: &#39;offset&#39;, &#39;description&#39;: &#39;Limiting and Pagination&#39;, &#39;required&#39;: False, &#39;in&#39;: &#39;query&#39;, &#39;type&#39;: &#39;string&#39;}, &#39;limit&#39;: {&#39;name&#39;: &#39;limit&#39;, &#39;description&#39;: &#39;Limiting and Pagination&#39;, &#39;required&#39;: False, &#39;in&#39;: &#39;query&#39;, &#39;type&#39;: &#39;string&#39;}, &#39;body.todos&#39;: {&#39;name&#39;: &#39;todos&#39;, &#39;description&#39;: &#39;todos&#39;, &#39;required&#39;: False, &#39;schema&#39;: {&#39;$ref&#39;: &#39;#/definitions/todos&#39;}, &#39;in&#39;: &#39;body&#39;}, &#39;rowFilter.todos.id&#39;: {&#39;name&#39;: &#39;id&#39;, &#39;required&#39;: False, &#39;format&#39;: &#39;integer&#39;, &#39;in&#39;: &#39;query&#39;, &#39;type&#39;: &#39;string&#39;}, &#39;rowFilter.todos.done&#39;: {&#39;name&#39;: &#39;done&#39;, &#39;required&#39;: False, &#39;format&#39;: &#39;boolean&#39;, &#39;in&#39;: &#39;query&#39;, &#39;type&#39;: &#39;string&#39;}, &#39;rowFilter.todos.task&#39;: {&#39;name&#39;: &#39;task&#39;, &#39;required&#39;: False, &#39;format&#39;: &#39;text&#39;, &#39;in&#39;: &#39;query&#39;, &#39;type&#39;: &#39;string&#39;}, &#39;rowFilter.todos.due&#39;: {&#39;name&#39;: &#39;due&#39;, &#39;required&#39;: False, &#39;format&#39;: &#39;timestamp with time zone&#39;, &#39;in&#39;: &#39;query&#39;, &#39;type&#39;: &#39;string&#39;}}, &#39;externalDocs&#39;: {&#39;url&#39;: &#39;https://postgrest.org/en/v9.0/api.html&#39;, &#39;description&#39;: &#39;PostgREST Documentation&#39;}} . If you are using https://jupyterhub.malaysiaai.ml/, PostgREST available at http://localhost:3000 . VSCode . Cloud Code-Server hosted in Malaysia AI server, https://vscode.malaysiaai.ml/ . Jupyter Notebook . Cloud Jupyter Notebook hosted in Malaysia AI server, https://jupyterhub.malaysiaai.ml/ . OSRM Malaysia . Self hosted OSRM, only able to calculate Malaysia and Singapore latlong. https://osrm.malaysiaai.ml/ not protected by Github Auth, so feel free to use it. . url = &#39;https://osrm.malaysiaai.ml/route/v1/driving/100.46722412109374,6.058623804918194;100.51211357116699,6.01423932199451?overview=false&#39; . requests.get(url).json() . {&#39;code&#39;: &#39;Ok&#39;, &#39;routes&#39;: [{&#39;legs&#39;: [{&#39;steps&#39;: [], &#39;distance&#39;: 10209, &#39;duration&#39;: 1050.8, &#39;summary&#39;: &#39;&#39;, &#39;weight&#39;: 1074.3}], &#39;distance&#39;: 10209, &#39;duration&#39;: 1050.8, &#39;weight_name&#39;: &#39;routability&#39;, &#39;weight&#39;: 1074.3}], &#39;waypoints&#39;: [{&#39;hint&#39;: &#39;3rgigOO4IoAAAAAAEgAAAAAAAAB5AQAAAAAAAE8QTEEAAAAAmLGCQwAAAAASAAAAAAAAAHkBAAB3DwAAkQf9BUR5XAAYAv0FgHJcAAAA3wWyG2KR&#39;, &#39;distance&#39;: 246.443801, &#39;name&#39;: &#39;&#39;, &#39;location&#39;: [100.468625, 6.060356]}, {&#39;hint&#39;: &#39;Ha0igB-tIoADAAAADQAAAAkBAAASAAAAOgJxQKlNX0ErjpJD9WaeQQMAAAANAAAACQEAABIAAAB3DwAAa7H9BU3EWwBysf0FH8VbAAsA_xCyG2KR&#39;, &#39;distance&#39;: 23.234645, &#39;name&#39;: &#39;&#39;, &#39;location&#39;: [100.512107, 6.014029]}]} .",
            "url": "https://blog.malaysiaai.ml/2022/02/07/infrastructure.html",
            "relUrl": "/2022/02/07/infrastructure.html",
            "date": " ‚Ä¢ Feb 7, 2022"
        }
        
    
  
    
        ,"post2": {
            "title": "First Order Motion(FOM)",
            "content": "When I started learn about computer since I was a kid, other than computer networking and programming I also interested with multimedia. Since I don&#39;t have the skills and talent in art I don&#39;t know how to use those fancy tools. Nowadays you don&#39;t need to have skills and talent in art you can just ask your program to do what you want based on example provide to your program. For this blog post, I will try generate an animation based on example I will give to the program. . What is First Order Motion . Given one image of a person, we can manipulate that image to animate according to driving animation(moving image) . Training procedure for FOM is simply pretrain by disentangling the appearance and motion using source image and driving video. . &quot;Motion extraction&quot; model will generate &#39;dense motion&#39; and &#39;occlusion&#39; to be pass to the generated image. | &quot;Image Generator&quot; will generate an image and that image will be warp by dense motion and then occlusion map will be use for inpainting when the character move around to fix the background. | Inside &quot;Motion Extraction&quot; model there is keypoint extraction model to extract keypoint like face, eyes, nose, mouth, facial contour, etc(This is keypoint model during 2019, if we replace with current one I think the model will perform better in term of tracking). Then from the keypoint it will be use as information for generating the right pixel. . When you character around there will be missing information at the background, that&#39;s why with occlusion map it will fix the background to make sure the animation look natural. . Thanks to the dense motion and occlusion we can use any image for inference as long it follow same viewpoint like person facing to the right or anything similar in the dataset. . . During inference you can use any source image and driving animation and it will be able to generate target animation which the motion coming from driving animation and the person is from source image . . Code . %cd ../first-order-model . /Users/osmojave/work/blog/first-order-model . import imageio import numpy as np import torch import matplotlib.pyplot as plt import matplotlib.animation as animation from skimage.transform import resize from IPython.display import HTML import warnings warnings.filterwarnings(&quot;ignore&quot;) def display(source, driving, generated=None): fig = plt.figure(figsize=(8 + 4 * (generated is not None), 6)) ims = [] for i in range(len(driving)): cols = [source] cols.append(driving[i]) if generated is not None: cols.append(generated[i]) im = plt.imshow(np.concatenate(cols, axis=1), animated=True) plt.axis(&#39;off&#39;) ims.append([im]) ani = animation.ArtistAnimation(fig, ims, interval=50, repeat_delay=1000) plt.close() return ani . from demo import load_checkpoints from demo import make_animation from skimage import img_as_ubyte import imageio from skimage.transform import resize source_image = imageio.imread(&#39;../_notebooks/artifacts/ben_afflek/httpimagesfandangocomrImageRendererredesignstaticimgnoxportraitjpgpcpcpcimagesmasterrepositoryperformerimagespjpg.jpg&#39;) driving_video = imageio.mimread(&#39;./sample/04.mp4&#39;) #Resize image and video to 256x256 source_image = resize(source_image, (256, 256))[..., :3] driving_video = [resize(frame, (256, 256))[..., :3] for frame in driving_video] generator, kp_detector = load_checkpoints(config_path=&#39;config/vox-256.yaml&#39;, checkpoint_path=&#39;./sample/vox-cpk.pth.tar&#39;,cpu=True) predictions = make_animation(source_image, driving_video, generator, kp_detector, relative=True,cpu=True) . 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 211/211 [06:02&lt;00:00, 1.72s/it] . HTML(display(source_image, driving_video, predictions).to_html5_video()) . Your browser does not support the video tag. As you can see there is no audio since the model can only generate sequence of image. You can extract original video audio and merge it with the video if you want to make the video with audio. . Final thoughts . First order motion is a model from 2019 which is quite old if you in AI industry. I think we can do lot more cool stuff with current state of the art model that quite accurate and small. . Reference: . https://aliaksandrsiarohin.github.io/first-order-model-website/ | https://github.com/cedro3/first-order-model | https://github.com/AliaksandrSiarohin/first-order-model |",
            "url": "https://blog.malaysiaai.ml/2021/11/07/first_order_motion.html",
            "relUrl": "/2021/11/07/first_order_motion.html",
            "date": " ‚Ä¢ Nov 7, 2021"
        }
        
    
  
    
        ,"post3": {
            "title": "Virtual Background",
            "content": "Since PKP lot of people start working remotely and app like Zoom let you do virtual background without green screen for privacy to hide whatever at your back. . What is Virtual Background . Virtual Backgrounds is a feature that replaces the background with another image, mainly when you don‚Äôt want the other person to see your room. Among the video conferencing software out there, Zoom, MS Teams, Amazon Chime support Virtual backgrounds, Agora.io and Twillio don‚Äôt seem to offer them. . Diagram . Code . !pip install mediapipe -q . !wget &quot;https://img.freepik.com/free-photo/green-park-view_1417-1492.jpg?size=626&amp;ext=jpg&quot; -O ./artifacts/bg.jpg . --2021-10-31 16:24:35-- https://img.freepik.com/free-photo/green-park-view_1417-1492.jpg?size=626&amp;ext=jpg Resolving img.freepik.com (img.freepik.com)... 2600:140e:6:bbf::30ec, 2600:140e:6:b8d::30ec, 184.31.29.148 Connecting to img.freepik.com (img.freepik.com)|2600:140e:6:bbf::30ec|:443... connected. HTTP request sent, awaiting response... 200 OK Length: 113518 (111K) [image/jpeg] Saving to: ‚Äò./artifacts/bg.jpg‚Äô ./artifacts/bg.jpg 100%[===================&gt;] 110.86K --.-KB/s in 0.1s 2021-10-31 16:24:36 (896 KB/s) - ‚Äò./artifacts/bg.jpg‚Äô saved [113518/113518] . import cv2 import mediapipe as mp import numpy as np mp_drawing = mp.solutions.drawing_utils mp_selfie_segmentation = mp.solutions.selfie_segmentation from fastai.basics import * . selfie_segmentation = mp_selfie_segmentation.SelfieSegmentation(model_selection=0) selfie_segmentation . INFO: Created TensorFlow Lite XNNPACK delegate for CPU. . &lt;mediapipe.python.solutions.selfie_segmentation.SelfieSegmentation at 0x7fabe9baff10&gt; . file = &quot;./artifacts/ben_afflek/httpimagesfandangocomrImageRendererredesignstaticimgnoxportraitjpgpcpcpcimagesmasterrepositoryperformerimagespjpg.jpg&quot; image = cv2.imread(file) image = cv2.cvtColor(image, cv2.COLOR_BGR2RGB) image_height, image_width, _ = image.shape plt.imshow(image) . &lt;matplotlib.image.AxesImage at 0x7fabf150f9a0&gt; . results = selfie_segmentation.process(image)# Convert the BGR image to RGB before processing. plt.imshow(results.segmentation_mask) . &lt;matplotlib.image.AxesImage at 0x7fabf1a25190&gt; . fg_image = cv2.imread(file) fg_image = cv2.cvtColor(fg_image, cv2.COLOR_BGR2RGB) x,y,c = fg_image.shape x,y,c . (250, 164, 3) . condition = np.stack((results.segmentation_mask,) * 3, axis=-1) &gt; 0.1 # bilateral filter plt.imshow(np.where(condition, fg_image, np.zeros(image.shape, dtype=np.uint8))) . &lt;matplotlib.image.AxesImage at 0x7fabf1bc3220&gt; . bg_image = cv2.imread(&quot;./artifacts/bg.jpg&quot;) bg_image = bg_image[:x,:y] bg_image.shape plt.imshow(bg_image) . &lt;matplotlib.image.AxesImage at 0x7fabf1e21b50&gt; . output_image = np.where(condition, fg_image, bg_image) plt.imshow(output_image) . &lt;matplotlib.image.AxesImage at 0x7fabf1f13850&gt; . Conclusion . Virtual background is a simple technique that you only need to know how to extract the foreground and background and combine them as final result . Reference: . https://google.github.io/mediapipe/solutions/selfie_segmentation |",
            "url": "https://blog.malaysiaai.ml/2021/10/31/virtual_background.html",
            "relUrl": "/2021/10/31/virtual_background.html",
            "date": " ‚Ä¢ Oct 31, 2021"
        }
        
    
  
    
        ,"post4": {
            "title": "Face Verification",
            "content": "I was planning to write this post since early October but because of work and I need to move to another company this post take quite some time. Enough excuse :p this post gonna talk about face verification usually use for verification. . What is Face Verification . You‚Äôre sitting at home. You want to apply for a visa for an upcoming vacation. You open your laptop, or pick up your mobile phone, and log on to the government visa service. You use the device camera to scan your driver‚Äôs license or passport to prove your identity. You then scan your face. Facial verification technology confirms that your physical face matches the one in the ID document, and that you are real and completing this application right now. -- iproov . Based on above statement we need two image, one from your driver&#39;s licence/passport another one is your selfie image so that the system can compare. . Diagram . Code . !pip install facenet-pytorch -q . from facenet_pytorch import MTCNN, InceptionResnetV1 import matplotlib.pyplot as plt import numpy as np from fastai.vision.all import show_image from PIL import Image . size = (200,200) . mtcnn = MTCNN( image_size=160, margin=0, min_face_size=1, thresholds=[0.6, 0.7, 0.7], factor=0.709, post_process=True, # device=device ) . resnet = InceptionResnetV1(pretrained=&#39;vggface2&#39;).eval()#.to(device) . def get_embedding(path,show=True): img = Image.open(path) if show: display(img.resize(size)) img_cropped = mtcnn(img) if show: show_image(unorm(img_cropped)) # Calculate embedding (unsqueeze to add batch dimension) img_embedding = resnet(img_cropped.unsqueeze(0)) return img_embedding[0] . embeddingA = get_embedding(&quot;./artifacts/ben_afflek/httpcsvkmeuaeccjpg.jpg&quot;) embeddingA.shape . torch.Size([512]) . embeddingB = get_embedding(&quot;./artifacts/ben_afflek/httpimagesfandangocomrImageRendererredesignstaticimgnoxportraitjpgpcpcpcimagesmasterrepositoryperformerimagespjpg.jpg&quot;) embeddingB.shape . torch.Size([512]) . (embeddingA - embeddingB).norm() . tensor(0.8929, grad_fn=&lt;CopyBackwards&gt;) . Above example calculate the distance between two same person, let&#39;s try with two different people . embeddingB = get_embedding(&quot;./artifacts/elton_john/httpftqncomymusicLxZeltonjohnjpg.jpg&quot;) embeddingB.shape . torch.Size([512]) . (embeddingA - embeddingB).norm() . tensor(1.4721, grad_fn=&lt;CopyBackwards&gt;) . As you can see above Ben afflek and Elton John is two different person, their distance will be high . Conclusion . Human do face recognition by comparing feature of a person that is stored in their memory and compare with the person in front of them. That&#39;s why we did not do similar technique being done like Image classification for Imagenet dataset for example. With comparing we don&#39;t need to have fixed number of class . Glossary . Embedding = Vector consist of the image information that is learned by the model(similar image will be near to each other). You can think of embedding like array of one dimension [1,2] and [1,3]. If you plot them they will be near to each other compare to [10,200].Usually embedding got lot more column like 256 and not two column(x and y) like above which make it more expressive. | Distance = measure of how much alike two data objects are https://dataaspirant.com/five-most-popular-similarity-measures-implementation-in-python/ | Reference: . https://www.iproov.com/blog/face-recognition-face-verification-whats-the-difference | https://www.kaggle.com/dansbecker/5-celebrity-faces-dataset | https://github.com/timesler/facenet-pytorch/blob/master/examples/infer.ipynb |",
            "url": "https://blog.malaysiaai.ml/2021/10/30/face_verification.html",
            "relUrl": "/2021/10/30/face_verification.html",
            "date": " ‚Ä¢ Oct 30, 2021"
        }
        
    
  
    
        ,"post5": {
            "title": "Speaker Diarization with Zero shot Speaker Identification",
            "content": "We will look into a simple speech pipeline to do speaker identification for speaker diarization, and ElasticSearch Malaysia-AI as vector database to store speaker vectors. . . Install necessary libraries . For speech toolkit, I am going to use https://malaya-speech.readthedocs.io to help me for Speaker Diarization and Speaker Identification. . pip install malaya-speech elasticsearch pycookiecheat requests . Make sure we are connected to ElasticSearch Malaysia-AI . If you are part of Malaysia-AI, you can query ElasticSearch Malaysia-AI from anywhere! . Before that, we must login to https://elasticsearch.malaysiaai.ml using Chrome first. . from pycookiecheat import chrome_cookies from elasticsearch import Elasticsearch import requests . url = &#39;https://elasticsearch.malaysiaai.ml&#39; cookies = chrome_cookies(url) . requests.get(url, cookies = cookies).json() . {&#39;name&#39;: &#39;malaysia-ai&#39;, &#39;cluster_name&#39;: &#39;elasticsearch&#39;, &#39;cluster_uuid&#39;: &#39;B2YuhAj3T9i2KXnBbAc1uA&#39;, &#39;version&#39;: {&#39;number&#39;: &#39;7.15.0&#39;, &#39;build_flavor&#39;: &#39;default&#39;, &#39;build_type&#39;: &#39;deb&#39;, &#39;build_hash&#39;: &#39;79d65f6e357953a5b3cbcc5e2c7c21073d89aa29&#39;, &#39;build_date&#39;: &#39;2021-09-16T03:05:29.143308416Z&#39;, &#39;build_snapshot&#39;: False, &#39;lucene_version&#39;: &#39;8.9.0&#39;, &#39;minimum_wire_compatibility_version&#39;: &#39;6.8.0&#39;, &#39;minimum_index_compatibility_version&#39;: &#39;6.0.0-beta1&#39;}, &#39;tagline&#39;: &#39;You Know, for Search&#39;} . cookie_string = [] for k, v in cookies.items(): cookie_string.append(f&#39;{k}={v}&#39;) cookie_string = &#39;; &#39;.join(cookie_string) es = Elasticsearch(hosts = [url], headers = {&#39;Cookie&#39;: cookie_string}) resp = es.info() resp . {&#39;name&#39;: &#39;malaysia-ai&#39;, &#39;cluster_name&#39;: &#39;elasticsearch&#39;, &#39;cluster_uuid&#39;: &#39;B2YuhAj3T9i2KXnBbAc1uA&#39;, &#39;version&#39;: {&#39;number&#39;: &#39;7.15.0&#39;, &#39;build_flavor&#39;: &#39;default&#39;, &#39;build_type&#39;: &#39;deb&#39;, &#39;build_hash&#39;: &#39;79d65f6e357953a5b3cbcc5e2c7c21073d89aa29&#39;, &#39;build_date&#39;: &#39;2021-09-16T03:05:29.143308416Z&#39;, &#39;build_snapshot&#39;: False, &#39;lucene_version&#39;: &#39;8.9.0&#39;, &#39;minimum_wire_compatibility_version&#39;: &#39;6.8.0&#39;, &#39;minimum_index_compatibility_version&#39;: &#39;6.0.0-beta1&#39;}, &#39;tagline&#39;: &#39;You Know, for Search&#39;} . Good to go! . Load example speakers . I have a few audios, each presented a unique speaker. . import malaya_speech import matplotlib.pyplot as plt from glob import glob import os audios = glob(&#39;artifacts/*.wav&#39;) audios . [&#39;artifacts/haqkiem.wav&#39;, &#39;artifacts/khalil-nooh.wav&#39;, &#39;artifacts/mas-aisyah.wav&#39;, &#39;artifacts/female.wav&#39;, &#39;artifacts/shafiqah-idayu.wav&#39;, &#39;artifacts/husein-zolkepli.wav&#39;] . os.path.split(audios[0])[1] . &#39;haqkiem.wav&#39; . sr = 16000 Y, speakers = [], [] for a in audios: speaker = os.path.split(a)[1].replace(&#39;.wav&#39;, &#39;&#39;) y, _ = malaya_speech.load(a, sr = sr) Y.append(y) speakers.append(speaker) . Convert audios into represent vector . We can use any speaker vector models available on the internet, but in this notebook, I am going to use model from https://malaya-speech.readthedocs.io/en/latest/load-speaker-vector.html . malaya_speech.speaker_vector.available_model() . INFO:root:tested on VoxCeleb2 test set. Lower EER is better. . Size (MB) Quantized Size (MB) Embedding Size EER . deep-speaker 96.7 | 24.40 | 512.0 | 0.21870 | . vggvox-v1 70.8 | 17.70 | 1024.0 | 0.14070 | . vggvox-v2 43.2 | 7.92 | 512.0 | 0.04450 | . speakernet 35.0 | 8.88 | 7205.0 | 0.02122 | . I am going to load vggvox-v2 model, embedding size just 512, nice to store in a small ElasticSearch. . model = malaya_speech.speaker_vector.deep_model(&#39;vggvox-v2&#39;) . INFO:root:running speaker-vector/vggvox-v2 using device /device:CPU:0 . Let&#39;s we visualize one sample audio, . plt.plot(Y[0]) plt.show() . And the length of this sample is, . len(Y[0]) / 16000 . 8.2314375 . 8 seconds, pretty long to feed into speaker vector model. Yes, we can feed directly to the model, but it is better we chunk the sample into multiple samples to get different speaker vectors. To chunk it, we can use Voice Activity Detection module to only sample positive voice activities. . Chunks using VAD . I am going to use WebRTC for our VAD model, malaya-speech also provided deep learning model for better VAD, https://malaya-speech.readthedocs.io/en/latest/load-vad.html, but for this example, we keep it simple. . pip install webrtcvad . malaya-speech provided simple interface for webRTC. . vad = malaya_speech.vad.webrtc() . How to detect Voice Activity . In order to use available Malaya-Speech VAD models, we need to split our audio sample into really small chunks. . For Google WebRTC, we need to split by every 30 ms and the frame must be in integer format. For deep learning, we trained on 30 ms, 90 ms and random length less than 300 ms. . To split an audio sample by giving time split, use, malaya_speech.utils.generator.frames. . from malaya_speech import Pipeline p = Pipeline() to_int = p.map(malaya_speech.utils.astype.float_to_int) int_frames = to_int.map(malaya_speech.utils.generator.frames, append_ending_trail = False) float_frames = p.map(malaya_speech.utils.generator.frames, append_ending_trail = False) vad_map = int_frames.foreach_map(vad) foreach = float_frames.foreach_zip(vad_map) foreach.map(malaya_speech.utils.group.group_frames) .map(malaya_speech.utils.group.group_frames_threshold, threshold_to_stop = 0.1) p.visualize() . malaya-speech provided a simple pipeline to combine multiple callables into a single pipeline, https://malaya-speech.readthedocs.io/en/latest/load-pipeline.html . The pipeline is simple, . audio -&gt; cast float to integer -&gt; split the audio into 30 ms small chunks -&gt; for each 30 ms small chunks will feed into WebRTC -&gt; combine result -&gt; group similar VAD labels into 1 longer sample -&gt; merged multiple different VAD labels if threshold below 0.05 seconds. . %%time result = p(Y[0]) result.keys() . CPU times: user 30.5 ms, sys: 2.93 ms, total: 33.4 ms Wall time: 32.2 ms . dict_keys([&#39;float_to_int&#39;, &#39;frames&#39;, &#39;vad&#39;, &#39;foreach_zip&#39;, &#39;group_frames&#39;, &#39;group_frames_threshold&#39;]) . result[&#39;group_frames_threshold&#39;][:5] . [(&lt;malaya_speech.model.frame.Frame at 0x14d1180d0&gt;, True), (&lt;malaya_speech.model.frame.Frame at 0x14d118090&gt;, True), (&lt;malaya_speech.model.frame.Frame at 0x14d118050&gt;, True), (&lt;malaya_speech.model.frame.Frame at 0x14d101f90&gt;, True), (&lt;malaya_speech.model.frame.Frame at 0x14d101fd0&gt;, True)] . malaya_speech.extra.visualization.visualize_vad(Y[0], result[&#39;group_frames_threshold&#39;], sr) . import IPython.display as ipd ipd.Audio(result[&#39;group_frames_threshold&#39;][0][0].array, rate = sr) . Your browser does not support the audio element. ipd.Audio(result[&#39;group_frames_threshold&#39;][1][0].array, rate = sr) . Your browser does not support the audio element. ipd.Audio(result[&#39;group_frames_threshold&#39;][2][0].array, rate = sr) . Your browser does not support the audio element. ipd.Audio(result[&#39;group_frames_threshold&#39;][3][0].array, rate = sr) . Your browser does not support the audio element. Apply VAD after that feed into speaker models . vectors = [] for i in range(len(Y)): result = p(Y[i]) for r in result[&#39;group_frames_threshold&#39;]: if r[1]: vectors.append((model([r[0]])[0], speakers[i])) len(vectors) . 25 . vectors, speakers = list(zip(*vectors)) . Visualize in lower dimension . from sklearn.decomposition import PCA pca = PCA(n_components = 2) components = pca.fit_transform(vectors) . fig, ax = plt.subplots() ax.scatter(components[:, 0], components[:, 1]) for i, speaker in enumerate(speakers): ax.annotate(speaker, (components[i, 0], components[i, 1])) plt.xlabel(&#39;Principal Component 1&#39;) plt.ylabel(&#39;Principal Component 2&#39;) plt.show() . Insert vectors into ElasticSearch . First, we need to define index mapping about the vectors, . MAPPING_DEALS = { &#39;mappings&#39;: { &#39;properties&#39;: { &#39;vector&#39;: {&#39;type&#39;: &#39;dense_vector&#39;, &#39;dims&#39;: vectors[0].shape[0]}, } }, } . index = &#39;test-speaker&#39; es.indices.delete(index = index, ignore = [400, 404]) es.indices.create(index = index, body = MAPPING_DEALS) . INFO:elasticsearch:DELETE https://elasticsearch.malaysiaai.ml:443/test-speaker [status:200 request:0.094s] INFO:elasticsearch:PUT https://elasticsearch.malaysiaai.ml:443/test-speaker [status:200 request:0.178s] . {&#39;acknowledged&#39;: True, &#39;shards_acknowledged&#39;: True, &#39;index&#39;: &#39;test-speaker&#39;} . from tqdm import tqdm # to speed up, you might want to use bulk insert for i in tqdm(range(len(vectors))): es.index(index = index, doc_type = &#39;_doc&#39;, body= {&#39;vector&#39;: vectors[i].tolist(), &#39;speaker&#39;: speakers[i]}) . 0%| | 0/25 [00:00&lt;?, ?it/s]INFO:elasticsearch:POST https://elasticsearch.malaysiaai.ml:443/test-speaker/_doc [status:201 request:0.106s] 4%|‚ñç | 1/25 [00:00&lt;00:02, 9.26it/s]INFO:elasticsearch:POST https://elasticsearch.malaysiaai.ml:443/test-speaker/_doc [status:201 request:0.046s] INFO:elasticsearch:POST https://elasticsearch.malaysiaai.ml:443/test-speaker/_doc [status:201 request:0.047s] INFO:elasticsearch:POST https://elasticsearch.malaysiaai.ml:443/test-speaker/_doc [status:201 request:0.045s] 16%|‚ñà‚ñå | 4/25 [00:00&lt;00:01, 11.11it/s]INFO:elasticsearch:POST https://elasticsearch.malaysiaai.ml:443/test-speaker/_doc [status:201 request:0.046s] INFO:elasticsearch:POST https://elasticsearch.malaysiaai.ml:443/test-speaker/_doc [status:201 request:0.046s] INFO:elasticsearch:POST https://elasticsearch.malaysiaai.ml:443/test-speaker/_doc [status:201 request:0.042s] 28%|‚ñà‚ñà‚ñä | 7/25 [00:00&lt;00:01, 12.99it/s]INFO:elasticsearch:POST https://elasticsearch.malaysiaai.ml:443/test-speaker/_doc [status:201 request:0.043s] INFO:elasticsearch:POST https://elasticsearch.malaysiaai.ml:443/test-speaker/_doc [status:201 request:0.047s] INFO:elasticsearch:POST https://elasticsearch.malaysiaai.ml:443/test-speaker/_doc [status:201 request:0.045s] 40%|‚ñà‚ñà‚ñà‚ñà | 10/25 [00:00&lt;00:01, 14.73it/s]INFO:elasticsearch:POST https://elasticsearch.malaysiaai.ml:443/test-speaker/_doc [status:201 request:0.046s] INFO:elasticsearch:POST https://elasticsearch.malaysiaai.ml:443/test-speaker/_doc [status:201 request:0.044s] INFO:elasticsearch:POST https://elasticsearch.malaysiaai.ml:443/test-speaker/_doc [status:201 request:0.045s] 52%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñè | 13/25 [00:00&lt;00:00, 16.23it/s]INFO:elasticsearch:POST https://elasticsearch.malaysiaai.ml:443/test-speaker/_doc [status:201 request:0.044s] INFO:elasticsearch:POST https://elasticsearch.malaysiaai.ml:443/test-speaker/_doc [status:201 request:0.044s] INFO:elasticsearch:POST https://elasticsearch.malaysiaai.ml:443/test-speaker/_doc [status:201 request:0.045s] 64%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñç | 16/25 [00:00&lt;00:00, 17.54it/s]INFO:elasticsearch:POST https://elasticsearch.malaysiaai.ml:443/test-speaker/_doc [status:201 request:0.044s] INFO:elasticsearch:POST https://elasticsearch.malaysiaai.ml:443/test-speaker/_doc [status:201 request:0.045s] INFO:elasticsearch:POST https://elasticsearch.malaysiaai.ml:443/test-speaker/_doc [status:201 request:0.046s] 76%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñå | 19/25 [00:00&lt;00:00, 18.50it/s]INFO:elasticsearch:POST https://elasticsearch.malaysiaai.ml:443/test-speaker/_doc [status:201 request:0.045s] INFO:elasticsearch:POST https://elasticsearch.malaysiaai.ml:443/test-speaker/_doc [status:201 request:0.046s] INFO:elasticsearch:POST https://elasticsearch.malaysiaai.ml:443/test-speaker/_doc [status:201 request:0.045s] 88%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñä | 22/25 [00:01&lt;00:00, 19.19it/s]INFO:elasticsearch:POST https://elasticsearch.malaysiaai.ml:443/test-speaker/_doc [status:201 request:0.047s] INFO:elasticsearch:POST https://elasticsearch.malaysiaai.ml:443/test-speaker/_doc [status:201 request:0.045s] INFO:elasticsearch:POST https://elasticsearch.malaysiaai.ml:443/test-speaker/_doc [status:201 request:0.047s] 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 25/25 [00:01&lt;00:00, 20.14it/s] . Sort based on cosine similarity from ElasticSearch . ElasticSearch support cosine similarity sorting, read more at https://www.elastic.co/blog/text-similarity-search-with-vectors-in-elasticsearch . data = { &#39;query&#39;: { &#39;script_score&#39;: { &#39;query&#39;: {&#39;match_all&#39;: {}}, &#39;script&#39;: { &#39;source&#39;: &quot;(cosineSimilarity(params.query_vector, &#39;vector&#39;))&quot;, &#39;params&#39;: {&#39;query_vector&#39;: vectors[0].tolist()}, }, } }, &#39;size&#39;: 2, &#39;_source&#39;: [&#39;speaker&#39;] } url_index = f&#39;{url}/{index}/_search&#39; r = requests.post(url_index, json = data, cookies = cookies).json() r . {&#39;took&#39;: 13, &#39;timed_out&#39;: False, &#39;_shards&#39;: {&#39;total&#39;: 1, &#39;successful&#39;: 1, &#39;skipped&#39;: 0, &#39;failed&#39;: 0}, &#39;hits&#39;: {&#39;total&#39;: {&#39;value&#39;: 17, &#39;relation&#39;: &#39;eq&#39;}, &#39;max_score&#39;: 0.99999994, &#39;hits&#39;: [{&#39;_index&#39;: &#39;test-speaker&#39;, &#39;_type&#39;: &#39;_doc&#39;, &#39;_id&#39;: &#39;p8yrJ3wBXDIj-_AAmIBw&#39;, &#39;_score&#39;: 0.99999994, &#39;_source&#39;: {&#39;speaker&#39;: &#39;haqkiem&#39;}}, {&#39;_index&#39;: &#39;test-speaker&#39;, &#39;_type&#39;: &#39;_doc&#39;, &#39;_id&#39;: &#39;r8yrJ3wBXDIj-_AAmoAU&#39;, &#39;_score&#39;: 0.82846445, &#39;_source&#39;: {&#39;speaker&#39;: &#39;haqkiem&#39;}}]}} . Now, speaker diarization . Let say I have an audio with multiple speakers in it, I want to diarize it and identify each speakers, to read more about speaker diarization at https://malaya-speech.readthedocs.io/en/latest/load-diarization.html . from pydub import AudioSegment import numpy as np audio = AudioSegment.from_file(&#39;artifacts/husein-ayu.m4a&#39;) samples = np.array(audio.get_array_of_samples()) samples = malaya_speech.astype.int_to_float(samples) samples = malaya_speech.resample(samples, audio.frame_rate, 16000) . audio . Your browser does not support the audio element. plt.plot(samples) . [&lt;matplotlib.lines.Line2D at 0x15ca851d0&gt;] . To do speaker diarization, we need to VAD -&gt; group VAD -&gt; Populate positive VAD -&gt; clustering. . %%time result = p(samples) result.keys() . CPU times: user 196 ms, sys: 27.3 ms, total: 224 ms Wall time: 82.2 ms . dict_keys([&#39;float_to_int&#39;, &#39;frames&#39;, &#39;vad&#39;, &#39;foreach_zip&#39;, &#39;group_frames&#39;, &#39;group_frames_threshold&#39;]) . malaya_speech.extra.visualization.visualize_vad(samples, result[&#39;group_frames_threshold&#39;], sr) . result_diarization_sc = malaya_speech.diarization.spectral_cluster(result[&#39;group_frames_threshold&#39;], model, min_clusters = 2, max_clusters = 100) result_diarization_sc[:20] . [(&lt;malaya_speech.model.frame.Frame at 0x14e0ea610&gt;, &#39;not a speaker&#39;), (&lt;malaya_speech.model.frame.Frame at 0x14e0ea350&gt;, &#39;speaker 2&#39;), (&lt;malaya_speech.model.frame.Frame at 0x14e0ea650&gt;, &#39;not a speaker&#39;), (&lt;malaya_speech.model.frame.Frame at 0x15c9ecc10&gt;, &#39;speaker 2&#39;), (&lt;malaya_speech.model.frame.Frame at 0x14e0f7c50&gt;, &#39;not a speaker&#39;), (&lt;malaya_speech.model.frame.Frame at 0x14e0f7510&gt;, &#39;not a speaker&#39;), (&lt;malaya_speech.model.frame.Frame at 0x14e0f7190&gt;, &#39;not a speaker&#39;), (&lt;malaya_speech.model.frame.Frame at 0x14e0f7f90&gt;, &#39;speaker 0&#39;), (&lt;malaya_speech.model.frame.Frame at 0x14e0f70d0&gt;, &#39;not a speaker&#39;), (&lt;malaya_speech.model.frame.Frame at 0x14e0f72d0&gt;, &#39;speaker 0&#39;), (&lt;malaya_speech.model.frame.Frame at 0x14e0f7290&gt;, &#39;speaker 0&#39;), (&lt;malaya_speech.model.frame.Frame at 0x14e0f75d0&gt;, &#39;not a speaker&#39;), (&lt;malaya_speech.model.frame.Frame at 0x14e0fab90&gt;, &#39;speaker 1&#39;), (&lt;malaya_speech.model.frame.Frame at 0x14e0fa7d0&gt;, &#39;speaker 3&#39;), (&lt;malaya_speech.model.frame.Frame at 0x14e0fa990&gt;, &#39;speaker 1&#39;), (&lt;malaya_speech.model.frame.Frame at 0x14e0fa750&gt;, &#39;not a speaker&#39;), (&lt;malaya_speech.model.frame.Frame at 0x14e0fa4d0&gt;, &#39;speaker 0&#39;), (&lt;malaya_speech.model.frame.Frame at 0x14e0fa5d0&gt;, &#39;not a speaker&#39;), (&lt;malaya_speech.model.frame.Frame at 0x14e0fa890&gt;, &#39;speaker 0&#39;), (&lt;malaya_speech.model.frame.Frame at 0x14e0fa8d0&gt;, &#39;not a speaker&#39;)] . nrows = 2 fig, ax = plt.subplots(nrows = nrows, ncols = 1) fig.set_figwidth(20) fig.set_figheight(nrows * 3) malaya_speech.extra.visualization.visualize_vad(samples, result[&#39;group_frames_threshold&#39;], sr, ax = ax[0]) malaya_speech.extra.visualization.plot_classification(result_diarization_sc, &#39;diarization using spectral cluster&#39;, ax = ax[1], x_text = 0.01) fig.tight_layout() plt.show() . ipd.Audio(result_diarization_sc[1][0].array, rate = sr) . Your browser does not support the audio element. ipd.Audio(result_diarization_sc[3][0].array, rate = sr) . Your browser does not support the audio element. ipd.Audio(result_diarization_sc[7][0].array, rate = sr) . Your browser does not support the audio element. ipd.Audio(result_diarization_sc[12][0].array, rate = sr) . Your browser does not support the audio element. Now, who is the speaker for result_diarization_sc[1]? . v = model([result_diarization_sc[1][0].array])[0] data = { &#39;query&#39;: { &#39;script_score&#39;: { &#39;query&#39;: {&#39;match_all&#39;: {}}, &#39;script&#39;: { &#39;source&#39;: &quot;(cosineSimilarity(params.query_vector, &#39;vector&#39;))&quot;, &#39;params&#39;: {&#39;query_vector&#39;: v.tolist()}, }, } }, &#39;size&#39;: 1, &#39;_source&#39;: [&#39;speaker&#39;] } url_index = f&#39;{url}/{index}/_search&#39; r = requests.post(url_index, json = data, cookies = cookies).json() r . {&#39;took&#39;: 2, &#39;timed_out&#39;: False, &#39;_shards&#39;: {&#39;total&#39;: 1, &#39;successful&#39;: 1, &#39;skipped&#39;: 0, &#39;failed&#39;: 0}, &#39;hits&#39;: {&#39;total&#39;: {&#39;value&#39;: 25, &#39;relation&#39;: &#39;eq&#39;}, &#39;max_score&#39;: 0.8808331, &#39;hits&#39;: [{&#39;_index&#39;: &#39;test-speaker&#39;, &#39;_type&#39;: &#39;_doc&#39;, &#39;_id&#39;: &#39;vsyrJ3wBXDIj-_AAnIDX&#39;, &#39;_score&#39;: 0.8808331, &#39;_source&#39;: {&#39;speaker&#39;: &#39;husein-zolkepli&#39;}}]}} . Now, who is the speaker for result_diarization_sc[12]? . v = model([result_diarization_sc[12][0].array])[0] data = { &#39;query&#39;: { &#39;script_score&#39;: { &#39;query&#39;: {&#39;match_all&#39;: {}}, &#39;script&#39;: { &#39;source&#39;: &quot;(cosineSimilarity(params.query_vector, &#39;vector&#39;))&quot;, &#39;params&#39;: {&#39;query_vector&#39;: v.tolist()}, }, } }, &#39;size&#39;: 1, &#39;_source&#39;: [&#39;speaker&#39;] } url_index = f&#39;{url}/{index}/_search&#39; r = requests.post(url_index, json = data, cookies = cookies).json() r . {&#39;took&#39;: 2, &#39;timed_out&#39;: False, &#39;_shards&#39;: {&#39;total&#39;: 1, &#39;successful&#39;: 1, &#39;skipped&#39;: 0, &#39;failed&#39;: 0}, &#39;hits&#39;: {&#39;total&#39;: {&#39;value&#39;: 25, &#39;relation&#39;: &#39;eq&#39;}, &#39;max_score&#39;: 0.8343149, &#39;hits&#39;: [{&#39;_index&#39;: &#39;test-speaker&#39;, &#39;_type&#39;: &#39;_doc&#39;, &#39;_id&#39;: &#39;vcyrJ3wBXDIj-_AAnICn&#39;, &#39;_score&#39;: 0.8343149, &#39;_source&#39;: {&#39;speaker&#39;: &#39;shafiqah-idayu&#39;}}]}} .",
            "url": "https://blog.malaysiaai.ml/2021/09/27/speaker-diarization-zero-shot-speaker-identification.html",
            "relUrl": "/2021/09/27/speaker-diarization-zero-shot-speaker-identification.html",
            "date": " ‚Ä¢ Sep 27, 2021"
        }
        
    
  
    
        ,"post6": {
            "title": "Malaysia AI",
            "content": "Description . A non profit organization to gather open source artificial intelligence for Malaysia. https://github.com/malaysia-ai/malaysia-ai . Mission . Providing Dataset / Models and Resources (machine / GPU / TPU and tools) to anyone that will contribute to Malaysian society. . Vision . Reduce friction for Malaysian people to get started in AI. . Vision of vision . Make AI less foreign in this country. . . Current Project . Check full repositories at https://github.com/orgs/malaysia-ai/repositories?type=all . Demo . https://huggingface.co/malay-huggingface |",
            "url": "https://blog.malaysiaai.ml/markdown/2021/09/26/hello-world.html",
            "relUrl": "/markdown/2021/09/26/hello-world.html",
            "date": " ‚Ä¢ Sep 26, 2021"
        }
        
    
  

  
  

  
      ,"page1": {
          "title": "About Us",
          "content": "AI community in Malaysia to share models/datasets/resources for helping Malaysian get started in AI (Malaysia AI) .",
          "url": "https://blog.malaysiaai.ml/about/",
          "relUrl": "/about/",
          "date": ""
      }
      
  

  

  
  

  

  
  

  

  
  

  
  

  
  

  
      ,"page10": {
          "title": "",
          "content": "Sitemap: {{ ‚Äúsitemap.xml‚Äù | absolute_url }} | .",
          "url": "https://blog.malaysiaai.ml/robots.txt",
          "relUrl": "/robots.txt",
          "date": ""
      }
      
  

}